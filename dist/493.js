"use strict";(self.webpackChunkng2angle=self.webpackChunkng2angle||[]).push([[493],{7493:(ht,R,d)=>{d.r(R),d.d(R,{CategoriesModule:()=>ct});var h=d(6895),y=d(6691),re=d(5229),T=d(1071),S=d(5867),e=(d(6776),d(4650)),P=d(5195),L=d(8064);function ae(n,i){1&n&&e._UZ(0,"div",20)}function se(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",21)(1,"button",22),e._UZ(2,"em",23),e.qZA(),e.TgZ(3,"button",24),e.NdJ("click",function(){const a=e.CHM(t).value,s=e.oxw();return e.KtG(s.deleteCategoryData(a))}),e._UZ(4,"em",25),e.qZA()()}if(2&n){const t=i.value;e.xp6(1),e.MGl("routerLink","/categories/edit/",t,"")}}function le(n,i){if(1&n&&e._UZ(0,"img",28),2&n){const t=e.oxw().value;e.s9C("src",t,e.LSH)}}function ce(n,i){1&n&&e._UZ(0,"img",29)}function he(n,i){if(1&n&&(e.YNc(0,le,1,1,"img",26),e.YNc(1,ce,1,0,"img",27)),2&n){const t=i.value;e.Q6J("ngIf",t),e.xp6(1),e.Q6J("ngIf",!t)}}function de(n,i){1&n&&e._UZ(0,"div"),2&n&&e.Jzz("height: 20px; width: 20px; border-radius: 10px; background-color: ",i.value,";")}function ue(n,i){if(1&n&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&n){const t=i.value;e.xp6(1),e.Oqu(1==t?"Yes":"No")}}const Q=d(1373);let Y=(()=>{class n{constructor(t,o){this.categoryService=t,this.afs=o,this.Categories=[],this.arrayRowData="",this.rowsFilter=[],this.arrayTableData=[]}ngOnInit(){this.categoryService.getCategoryList().subscribe(t=>{this.Categories=[],this.Categories=t.map(o=>{let r=o.payload.doc.data();return{id:o.payload.doc.id,data:r}}),this.arrayTableData=[];for(let o=0;o<this.Categories.length;o++)this.arrayRowData=this.Categories[o].data,this.arrayRowData.sr_no=o+1,this.arrayRowData.id=this.Categories[o].id,this.arrayTableData.push(this.arrayRowData);this.rowsFilter=this.arrayTableData})}updateFilter(t){const o=t.target.value.toLowerCase(),r=this.arrayTableData.filter(function(a){if(""!=a.name&&null!=a.name)return-1!==a.name.toLowerCase().indexOf(o)||!o});this.rowsFilter=r,this.table.offset=0}deleteCategoryData(t){this.sweetalertWarning(t)}sweetalertWarning(t){Q({title:"Are you sure?",text:"Want to delete data!",icon:"warning",buttons:{cancel:{text:"Cancel",value:null,visible:!0,className:"",closeModal:!0},confirm:{text:"Yes, delete it!",value:!0,visible:!0,className:"bg-danger",closeModal:!1}}}).then(o=>{o&&this.categoryService.deleteCategory(t).then(()=>{this.afs.collection("settings").doc("counts").update({"counts.categories":S.Z.firestore.FieldValue.increment(1)}).then(r=>{Q("Deleted!","Data deletd!","success")})})})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(P.H),e.Y36(L.ST))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-categories-list"]],viewQuery:function(t,o){if(1&t&&e.Gf(T.nE,7),2&t){let r;e.iGM(r=e.CRH())&&(o.table=r.first)}},decls:26,vars:10,consts:[[1,"content-heading"],[1,"d-flex","justify-content-between","w-100","align-items-center"],["type","button",1,"btn","btn-primary","d-flex","align-items-center",3,"routerLink"],["_ngcontent-lgi-c20","",1,"icon-plus","mr-1"],[1,"card","card-default"],["class","spinner-border loading","role","status",4,"ngIf"],[1,"card-body"],[1,"row","mb-3"],[1,"col-lg-3"],["type","text","placeholder","Type to filter the name column...",1,"form-control",3,"keyup"],[1,"bootstrap","no-detail-row",3,"scrollbarH","columnMode","footerHeight","rowHeight","limit","rows"],["table",""],["name","Sr. No.","prop","sr_no",3,"width"],["name","Actions","sortable","false","prop","id"],["ngx-datatable-cell-template",""],["name","Unique Id","prop","id",3,"width"],["name","Image","sortable","false","prop","image"],["name","Category Name","prop","name"],["name","Color","sortable","false","prop","color"],["name","Active","sortable","false","prop","is_enabled"],["role","status",1,"spinner-border","loading"],[1,"d-flex"],["type","button",1,"mr-1","btn","btn-success","comn-action-btn","mb-1",3,"routerLink"],["_ngcontent-lgi-c20","",1,"fas","fa-edit"],["type","button",1,"mr-1","btn","btn-danger","comn-action-btn","mb-1",3,"click"],["_ngcontent-lgi-c20","",1,"fas","fa-trash-alt"],["class","listImage",3,"src",4,"ngIf"],["src","assets/img/profile.jpg","class","listImage align-items-center",4,"ngIf"],[1,"listImage",3,"src"],["src","assets/img/profile.jpg",1,"listImage","align-items-center"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"span"),e._uU(3,"Categories"),e.qZA(),e.TgZ(4,"button",2),e._UZ(5,"em",3),e._uU(6," Add New "),e.qZA()()(),e.TgZ(7,"div",4),e.YNc(8,ae,1,0,"div",5),e.TgZ(9,"div",6)(10,"div",7)(11,"div",8)(12,"input",9),e.NdJ("keyup",function(a){return o.updateFilter(a)}),e.qZA()()(),e.TgZ(13,"ngx-datatable",10,11),e._UZ(15,"ngx-datatable-column",12),e.TgZ(16,"ngx-datatable-column",13),e.YNc(17,se,5,1,"ng-template",14),e.qZA(),e._UZ(18,"ngx-datatable-column",15),e.TgZ(19,"ngx-datatable-column",16),e.YNc(20,he,2,2,"ng-template",14),e.qZA(),e._UZ(21,"ngx-datatable-column",17),e.TgZ(22,"ngx-datatable-column",18),e.YNc(23,de,1,3,"ng-template",14),e.qZA(),e.TgZ(24,"ngx-datatable-column",19),e.YNc(25,ue,2,1,"ng-template",14),e.qZA()()()()),2&t&&(e.xp6(4),e.Q6J("routerLink","/categories/add"),e.xp6(4),e.Q6J("ngIf",null==o.Categories||""==o.Categories),e.xp6(5),e.Q6J("scrollbarH",!0)("columnMode","force")("footerHeight",50)("rowHeight","auto")("limit",10)("rows",o.rowsFilter),e.xp6(2),e.Q6J("width",50),e.xp6(3),e.Q6J("width",180))},dependencies:[h.O5,y.rH,T.nE,T.UC,T.vq],encapsulation:2}),n})();var u=d(4719),B=d(537),z=(d(2504),d(362)),j=d(398),G=d(8929),V=d(3753),ge=d(5778),pe=d(13);function g(n,i){(function fe(n){return"string"==typeof n&&-1!==n.indexOf(".")&&1===parseFloat(n)})(n)&&(n="100%");var t=function me(n){return"string"==typeof n&&-1!==n.indexOf("%")}(n);return n=360===i?n:Math.min(i,Math.max(0,parseFloat(n))),t&&(n=parseInt(String(n*i),10)/100),Math.abs(n-i)<1e-6?1:n=360===i?(n<0?n%i+i:n%i)/parseFloat(String(i)):n%i/parseFloat(String(i))}function Z(n){return Math.min(1,Math.max(0,n))}function W(n){return n=parseFloat(n),(isNaN(n)||n<0||n>1)&&(n=1),n}function A(n){return n<=1?"".concat(100*Number(n),"%"):n}function w(n){return 1===n.length?"0"+n:String(n)}function K(n,i,t){n=g(n,255),i=g(i,255),t=g(t,255);var o=Math.max(n,i,t),r=Math.min(n,i,t),a=0,s=0,c=(o+r)/2;if(o===r)s=0,a=0;else{var l=o-r;switch(s=c>.5?l/(2-o-r):l/(o+r),o){case n:a=(i-t)/l+(i<t?6:0);break;case i:a=(t-n)/l+2;break;case t:a=(n-i)/l+4}a/=6}return{h:a,s,l:c}}function J(n,i,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+6*t*(i-n):t<.5?i:t<2/3?n+(i-n)*(2/3-t)*6:n}function X(n,i,t){n=g(n,255),i=g(i,255),t=g(t,255);var o=Math.max(n,i,t),r=Math.min(n,i,t),a=0,s=o,c=o-r,l=0===o?0:c/o;if(o===r)a=0;else{switch(o){case n:a=(i-t)/c+(i<t?6:0);break;case i:a=(t-n)/c+2;break;case t:a=(n-i)/c+4}a/=6}return{h:a,s:l,v:s}}function $(n,i,t,o){var r=[w(Math.round(n).toString(16)),w(Math.round(i).toString(16)),w(Math.round(t).toString(16))];return o&&r[0].startsWith(r[0].charAt(1))&&r[1].startsWith(r[1].charAt(1))&&r[2].startsWith(r[2].charAt(1))?r[0].charAt(0)+r[1].charAt(0)+r[2].charAt(0):r.join("")}function ee(n){return Math.round(255*parseFloat(n)).toString(16)}function te(n){return f(n)/255}function f(n){return parseInt(n,16)}var D={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",goldenrod:"#daa520",gold:"#ffd700",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavenderblush:"#fff0f5",lavender:"#e6e6fa",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};var x="(?:".concat("[-\\+]?\\d*\\.\\d+%?",")|(?:").concat("[-\\+]?\\d+%?",")"),H="[\\s|\\(]+(".concat(x,")[,|\\s]+(").concat(x,")[,|\\s]+(").concat(x,")\\s*\\)?"),U="[\\s|\\(]+(".concat(x,")[,|\\s]+(").concat(x,")[,|\\s]+(").concat(x,")[,|\\s]+(").concat(x,")\\s*\\)?"),b={CSS_UNIT:new RegExp(x),rgb:new RegExp("rgb"+H),rgba:new RegExp("rgba"+U),hsl:new RegExp("hsl"+H),hsla:new RegExp("hsla"+U),hsv:new RegExp("hsv"+H),hsva:new RegExp("hsva"+U),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};function C(n){return Boolean(b.CSS_UNIT.exec(String(n)))}var M=function(){function n(i,t){var o;if(void 0===i&&(i=""),void 0===t&&(t={}),i instanceof n)return i;"number"==typeof i&&(i=function ye(n){return{r:n>>16,g:(65280&n)>>8,b:255&n}}(i)),this.originalInput=i;var r=function xe(n){var i={r:0,g:0,b:0},t=1,o=null,r=null,a=null,s=!1,c=!1;return"string"==typeof n&&(n=function Te(n){if(0===(n=n.trim().toLowerCase()).length)return!1;var i=!1;if(D[n])n=D[n],i=!0;else if("transparent"===n)return{r:0,g:0,b:0,a:0,format:"name"};var t=b.rgb.exec(n);return t?{r:t[1],g:t[2],b:t[3]}:(t=b.rgba.exec(n))?{r:t[1],g:t[2],b:t[3],a:t[4]}:(t=b.hsl.exec(n))?{h:t[1],s:t[2],l:t[3]}:(t=b.hsla.exec(n))?{h:t[1],s:t[2],l:t[3],a:t[4]}:(t=b.hsv.exec(n))?{h:t[1],s:t[2],v:t[3]}:(t=b.hsva.exec(n))?{h:t[1],s:t[2],v:t[3],a:t[4]}:(t=b.hex8.exec(n))?{r:f(t[1]),g:f(t[2]),b:f(t[3]),a:te(t[4]),format:i?"name":"hex8"}:(t=b.hex6.exec(n))?{r:f(t[1]),g:f(t[2]),b:f(t[3]),format:i?"name":"hex"}:(t=b.hex4.exec(n))?{r:f(t[1]+t[1]),g:f(t[2]+t[2]),b:f(t[3]+t[3]),a:te(t[4]+t[4]),format:i?"name":"hex8"}:!!(t=b.hex3.exec(n))&&{r:f(t[1]+t[1]),g:f(t[2]+t[2]),b:f(t[3]+t[3]),format:i?"name":"hex"}}(n)),"object"==typeof n&&(C(n.r)&&C(n.g)&&C(n.b)?(i=function be(n,i,t){return{r:255*g(n,255),g:255*g(i,255),b:255*g(t,255)}}(n.r,n.g,n.b),s=!0,c="%"===String(n.r).substr(-1)?"prgb":"rgb"):C(n.h)&&C(n.s)&&C(n.v)?(o=A(n.s),r=A(n.v),i=function _e(n,i,t){n=6*g(n,360),i=g(i,100),t=g(t,100);var o=Math.floor(n),r=n-o,a=t*(1-i),s=t*(1-r*i),c=t*(1-(1-r)*i),l=o%6;return{r:255*[t,s,a,a,c,t][l],g:255*[c,t,t,s,a,a][l],b:255*[a,a,c,t,t,s][l]}}(n.h,o,r),s=!0,c="hsv"):C(n.h)&&C(n.s)&&C(n.l)&&(o=A(n.s),a=A(n.l),i=function Ce(n,i,t){var o,r,a;if(n=g(n,360),i=g(i,100),t=g(t,100),0===i)r=t,a=t,o=t;else{var s=t<.5?t*(1+i):t+i-t*i,c=2*t-s;o=J(c,s,n+1/3),r=J(c,s,n),a=J(c,s,n-1/3)}return{r:255*o,g:255*r,b:255*a}}(n.h,o,a),s=!0,c="hsl"),Object.prototype.hasOwnProperty.call(n,"a")&&(t=n.a)),t=W(t),{ok:s,format:n.format||c,r:Math.min(255,Math.max(i.r,0)),g:Math.min(255,Math.max(i.g,0)),b:Math.min(255,Math.max(i.b,0)),a:t}}(i);this.originalInput=i,this.r=r.r,this.g=r.g,this.b=r.b,this.a=r.a,this.roundA=Math.round(100*this.a)/100,this.format=null!==(o=t.format)&&void 0!==o?o:r.format,this.gradientType=t.gradientType,this.r<1&&(this.r=Math.round(this.r)),this.g<1&&(this.g=Math.round(this.g)),this.b<1&&(this.b=Math.round(this.b)),this.isValid=r.ok}return n.prototype.isDark=function(){return this.getBrightness()<128},n.prototype.isLight=function(){return!this.isDark()},n.prototype.getBrightness=function(){var i=this.toRgb();return(299*i.r+587*i.g+114*i.b)/1e3},n.prototype.getLuminance=function(){var i=this.toRgb(),a=i.r/255,s=i.g/255,c=i.b/255;return.2126*(a<=.03928?a/12.92:Math.pow((a+.055)/1.055,2.4))+.7152*(s<=.03928?s/12.92:Math.pow((s+.055)/1.055,2.4))+.0722*(c<=.03928?c/12.92:Math.pow((c+.055)/1.055,2.4))},n.prototype.getAlpha=function(){return this.a},n.prototype.setAlpha=function(i){return this.a=W(i),this.roundA=Math.round(100*this.a)/100,this},n.prototype.toHsv=function(){var i=X(this.r,this.g,this.b);return{h:360*i.h,s:i.s,v:i.v,a:this.a}},n.prototype.toHsvString=function(){var i=X(this.r,this.g,this.b),t=Math.round(360*i.h),o=Math.round(100*i.s),r=Math.round(100*i.v);return 1===this.a?"hsv(".concat(t,", ").concat(o,"%, ").concat(r,"%)"):"hsva(".concat(t,", ").concat(o,"%, ").concat(r,"%, ").concat(this.roundA,")")},n.prototype.toHsl=function(){var i=K(this.r,this.g,this.b);return{h:360*i.h,s:i.s,l:i.l,a:this.a}},n.prototype.toHslString=function(){var i=K(this.r,this.g,this.b),t=Math.round(360*i.h),o=Math.round(100*i.s),r=Math.round(100*i.l);return 1===this.a?"hsl(".concat(t,", ").concat(o,"%, ").concat(r,"%)"):"hsla(".concat(t,", ").concat(o,"%, ").concat(r,"%, ").concat(this.roundA,")")},n.prototype.toHex=function(i){return void 0===i&&(i=!1),$(this.r,this.g,this.b,i)},n.prototype.toHexString=function(i){return void 0===i&&(i=!1),"#"+this.toHex(i)},n.prototype.toHex8=function(i){return void 0===i&&(i=!1),function ve(n,i,t,o,r){var a=[w(Math.round(n).toString(16)),w(Math.round(i).toString(16)),w(Math.round(t).toString(16)),w(ee(o))];return r&&a[0].startsWith(a[0].charAt(1))&&a[1].startsWith(a[1].charAt(1))&&a[2].startsWith(a[2].charAt(1))&&a[3].startsWith(a[3].charAt(1))?a[0].charAt(0)+a[1].charAt(0)+a[2].charAt(0)+a[3].charAt(0):a.join("")}(this.r,this.g,this.b,this.a,i)},n.prototype.toHex8String=function(i){return void 0===i&&(i=!1),"#"+this.toHex8(i)},n.prototype.toRgb=function(){return{r:Math.round(this.r),g:Math.round(this.g),b:Math.round(this.b),a:this.a}},n.prototype.toRgbString=function(){var i=Math.round(this.r),t=Math.round(this.g),o=Math.round(this.b);return 1===this.a?"rgb(".concat(i,", ").concat(t,", ").concat(o,")"):"rgba(".concat(i,", ").concat(t,", ").concat(o,", ").concat(this.roundA,")")},n.prototype.toPercentageRgb=function(){var i=function(t){return"".concat(Math.round(100*g(t,255)),"%")};return{r:i(this.r),g:i(this.g),b:i(this.b),a:this.a}},n.prototype.toPercentageRgbString=function(){var i=function(t){return Math.round(100*g(t,255))};return 1===this.a?"rgb(".concat(i(this.r),"%, ").concat(i(this.g),"%, ").concat(i(this.b),"%)"):"rgba(".concat(i(this.r),"%, ").concat(i(this.g),"%, ").concat(i(this.b),"%, ").concat(this.roundA,")")},n.prototype.toName=function(){if(0===this.a)return"transparent";if(this.a<1)return!1;for(var i="#"+$(this.r,this.g,this.b,!1),t=0,o=Object.entries(D);t<o.length;t++){var r=o[t];if(i===r[1])return r[0]}return!1},n.prototype.toString=function(i){var t=Boolean(i);i=i??this.format;var o=!1;return!t&&this.a<1&&this.a>=0&&(i.startsWith("hex")||"name"===i)?"name"===i&&0===this.a?this.toName():this.toRgbString():("rgb"===i&&(o=this.toRgbString()),"prgb"===i&&(o=this.toPercentageRgbString()),("hex"===i||"hex6"===i)&&(o=this.toHexString()),"hex3"===i&&(o=this.toHexString(!0)),"hex4"===i&&(o=this.toHex8String(!0)),"hex8"===i&&(o=this.toHex8String()),"name"===i&&(o=this.toName()),"hsl"===i&&(o=this.toHslString()),"hsv"===i&&(o=this.toHsvString()),o||this.toHexString())},n.prototype.toNumber=function(){return(Math.round(this.r)<<16)+(Math.round(this.g)<<8)+Math.round(this.b)},n.prototype.clone=function(){return new n(this.toString())},n.prototype.lighten=function(i){void 0===i&&(i=10);var t=this.toHsl();return t.l+=i/100,t.l=Z(t.l),new n(t)},n.prototype.brighten=function(i){void 0===i&&(i=10);var t=this.toRgb();return t.r=Math.max(0,Math.min(255,t.r-Math.round(-i/100*255))),t.g=Math.max(0,Math.min(255,t.g-Math.round(-i/100*255))),t.b=Math.max(0,Math.min(255,t.b-Math.round(-i/100*255))),new n(t)},n.prototype.darken=function(i){void 0===i&&(i=10);var t=this.toHsl();return t.l-=i/100,t.l=Z(t.l),new n(t)},n.prototype.tint=function(i){return void 0===i&&(i=10),this.mix("white",i)},n.prototype.shade=function(i){return void 0===i&&(i=10),this.mix("black",i)},n.prototype.desaturate=function(i){void 0===i&&(i=10);var t=this.toHsl();return t.s-=i/100,t.s=Z(t.s),new n(t)},n.prototype.saturate=function(i){void 0===i&&(i=10);var t=this.toHsl();return t.s+=i/100,t.s=Z(t.s),new n(t)},n.prototype.greyscale=function(){return this.desaturate(100)},n.prototype.spin=function(i){var t=this.toHsl(),o=(t.h+i)%360;return t.h=o<0?360+o:o,new n(t)},n.prototype.mix=function(i,t){void 0===t&&(t=50);var o=this.toRgb(),r=new n(i).toRgb(),a=t/100;return new n({r:(r.r-o.r)*a+o.r,g:(r.g-o.g)*a+o.g,b:(r.b-o.b)*a+o.b,a:(r.a-o.a)*a+o.a})},n.prototype.analogous=function(i,t){void 0===i&&(i=6),void 0===t&&(t=30);var o=this.toHsl(),r=360/t,a=[this];for(o.h=(o.h-(r*i>>1)+720)%360;--i;)o.h=(o.h+r)%360,a.push(new n(o));return a},n.prototype.complement=function(){var i=this.toHsl();return i.h=(i.h+180)%360,new n(i)},n.prototype.monochromatic=function(i){void 0===i&&(i=6);for(var t=this.toHsv(),o=t.h,r=t.s,a=t.v,s=[],c=1/i;i--;)s.push(new n({h:o,s:r,v:a})),a=(a+c)%1;return s},n.prototype.splitcomplement=function(){var i=this.toHsl(),t=i.h;return[this,new n({h:(t+72)%360,s:i.s,l:i.l}),new n({h:(t+216)%360,s:i.s,l:i.l})]},n.prototype.onBackground=function(i){var t=this.toRgb(),o=new n(i).toRgb();return new n({r:o.r+(t.r-o.r)*t.a,g:o.g+(t.g-o.g)*t.a,b:o.b+(t.b-o.b)*t.a})},n.prototype.triad=function(){return this.polyad(3)},n.prototype.tetrad=function(){return this.polyad(4)},n.prototype.polyad=function(i){for(var t=this.toHsl(),o=t.h,r=[this],a=360/i,s=1;s<i;s++)r.push(new n({h:(o+s*a)%360,s:t.s,l:t.l}));return r},n.prototype.equals=function(i){return this.toRgbString()===new n(i).toRgbString()},n}();function Se(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"span",3),e.NdJ("mousedown",function(r){e.CHM(t);const a=e.oxw();return e.KtG(a.handleMousedown(r))}),e._uU(1),e.qZA()}if(2&n){const t=e.oxw();e.Q6J("ngStyle",t.labelStyle),e.xp6(1),e.hij(" ",t.label," ")}}function ke(n,i){if(1&n&&(e.TgZ(0,"div",2),e._UZ(1,"div",3),e.qZA()),2&n){const t=e.oxw();e.Udp("left",t.left)("top",t.top),e.xp6(1),e.Q6J("ngStyle",t.pointer)}}const N={};let I=(()=>{class n{constructor(){this.white="transparent",this.size=8,this.grey="rgba(0,0,0,.08)"}ngOnInit(){const t=function Oe(n,i,t){const o=`${n}-${i}-${t}`;if(N[o])return N[o];const r=function Ae(n,i,t){if(typeof document>"u")return null;const o=document.createElement("canvas");o.width=2*t,o.height=2*t;const r=o.getContext("2d");return r?(r.fillStyle=n,r.fillRect(0,0,o.width,o.height),r.fillStyle=i,r.fillRect(0,0,t,t),r.translate(t,t),r.fillRect(0,0,t,t),o.toDataURL()):null}(n,i,t);return r?(N[o]=r,r):null}(this.white,this.grey,this.size);this.gridStyles={borderRadius:this.borderRadius,boxShadow:this.boxShadow,background:`url(${t}) center left`}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["color-checkboard"]],inputs:{white:"white",size:"size",grey:"grey",boxShadow:"boxShadow",borderRadius:"borderRadius"},decls:1,vars:1,consts:[[1,"grid",3,"ngStyle"]],template:function(t,o){1&t&&e._UZ(0,"div",0),2&t&&e.Q6J("ngStyle",o.gridStyles)},dependencies:[h.PC],styles:[".grid[_ngcontent-%COMP%] {\n    top: 0px;\n    right: 0px;\n    bottom: 0px;\n    left: 0px;\n    position: absolute;\n  }"],changeDetection:0}),n})(),q=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[h.ez]}),n})(),O=(()=>{class n{constructor(t){this.el=t,this.coordinatesChange=new G.xQ,this.mousechange=new G.xQ,this.mouseListening=!1}mousemove(t,o,r,a=!1){this.mouseListening&&(t.preventDefault(),this.mousechange.next({$event:t,x:o,y:r,isTouch:a}))}mouseup(){this.mouseListening=!1}mousedown(t,o,r,a=!1){t.preventDefault(),this.mouseListening=!0,this.mousechange.next({$event:t,x:o,y:r,isTouch:a})}ngOnInit(){this.sub=this.mousechange.pipe((0,ge.x)((t,o)=>t.x===o.x&&t.y===o.y)).subscribe(t=>this.handleChange(t.x,t.y,t.$event,t.isTouch))}ngOnDestroy(){this.sub.unsubscribe()}handleChange(t,o,r,a){const s=this.el.nativeElement.clientWidth,c=this.el.nativeElement.clientHeight,l=t-(this.el.nativeElement.getBoundingClientRect().left+window.pageXOffset);let p=o-this.el.nativeElement.getBoundingClientRect().top;a||(p-=window.pageYOffset),this.coordinatesChange.next({x:t,y:o,top:p,left:l,containerWidth:s,containerHeight:c,$event:r})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.SBq))},n.\u0275dir=e.lG2({type:n,selectors:[["","ngx-color-coordinates",""]],hostBindings:function(t,o){1&t&&e.NdJ("mousemove",function(a){return o.mousemove(a,a.pageX,a.pageY)},!1,e.Jf7)("touchmove",function(a){return o.mousemove(a,a.touches[0].clientX,a.touches[0].clientY,!0)},!1,e.Jf7)("mouseup",function(){return o.mouseup()},!1,e.Jf7)("touchend",function(){return o.mouseup()},!1,e.Jf7)("mousedown",function(a){return o.mousedown(a,a.pageX,a.pageY)})("touchstart",function(a){return o.mousedown(a,a.touches[0].clientX,a.touches[0].clientY,!0)})},outputs:{coordinatesChange:"coordinatesChange"}}),n})(),F=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({}),n})(),Fe=(()=>{class n{constructor(){this.direction="horizontal",this.onChange=new e.vpe}ngOnChanges(){"vertical"===this.direction?(this.pointerLeft=0,this.pointerTop=100*this.rgb.a,this.gradient={background:`linear-gradient(to bottom, rgba(${this.rgb.r},${this.rgb.g},${this.rgb.b}, 0) 0%,\n          rgba(${this.rgb.r},${this.rgb.g},${this.rgb.b}, 1) 100%)`}):(this.gradient={background:`linear-gradient(to right, rgba(${this.rgb.r},${this.rgb.g},${this.rgb.b}, 0) 0%,\n          rgba(${this.rgb.r},${this.rgb.g},${this.rgb.b}, 1) 100%)`},this.pointerLeft=100*this.rgb.a)}handleChange({top:t,left:o,containerHeight:r,containerWidth:a,$event:s}){let c;if("vertical"===this.direction){let l;l=t<0?0:t>r?1:Math.round(100*t/r)/100,this.hsl.a!==l&&(c={h:this.hsl.h,s:this.hsl.s,l:this.hsl.l,a:l,source:"rgb"})}else{let l;l=o<0?0:o>a?1:Math.round(100*o/a)/100,this.hsl.a!==l&&(c={h:this.hsl.h,s:this.hsl.s,l:this.hsl.l,a:l,source:"rgb"})}!c||this.onChange.emit({data:c,$event:s})}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["color-alpha"]],inputs:{direction:"direction",hsl:"hsl",rgb:"rgb",pointer:"pointer",shadow:"shadow",radius:"radius"},outputs:{onChange:"onChange"},features:[e.TTD],decls:7,vars:15,consts:[[1,"alpha"],[1,"alpha-checkboard"],[1,"alpha-gradient",3,"ngStyle"],["ngx-color-coordinates","",3,"coordinatesChange"],[1,"alpha-pointer"],[1,"alpha-slider",3,"ngStyle"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"div",1),e._UZ(2,"color-checkboard"),e.qZA(),e._UZ(3,"div",2),e.TgZ(4,"div",3),e.NdJ("coordinatesChange",function(a){return o.handleChange(a)}),e.TgZ(5,"div",4),e._UZ(6,"div",5),e.qZA()()()),2&t&&(e.Udp("border-radius",o.radius),e.xp6(3),e.Udp("box-shadow",o.shadow)("border-radius",o.radius),e.Q6J("ngStyle",o.gradient),e.xp6(1),e.Gre("alpha-container color-alpha-",o.direction,""),e.xp6(1),e.Udp("left",o.pointerLeft,"%")("top",o.pointerTop,"%"),e.xp6(1),e.Q6J("ngStyle",o.pointer))},dependencies:[h.PC,I,O],styles:[".alpha[_ngcontent-%COMP%] {\n      position: absolute;\n      top: 0;\n      bottom: 0;\n      left: 0;\n      right: 0;\n    }\n    .alpha-checkboard[_ngcontent-%COMP%] {\n      position: absolute;\n      top: 0;\n      bottom: 0;\n      left: 0;\n      right: 0;\n      overflow: hidden;\n    }\n    .alpha-gradient[_ngcontent-%COMP%] {\n      position: absolute;\n      top: 0;\n      bottom: 0;\n      left: 0;\n      right: 0;\n    }\n    .alpha-container[_ngcontent-%COMP%] {\n      position: relative;\n      height: 100%;\n      margin: 0 3px;\n    }\n    .alpha-pointer[_ngcontent-%COMP%] {\n      position: absolute;\n    }\n    .alpha-slider[_ngcontent-%COMP%] {\n      width: 4px;\n      border-radius: 1px;\n      height: 8px;\n      box-shadow: 0 0 2px rgba(0, 0, 0, .6);\n      background: #fff;\n      margin-top: 1px;\n      transform: translateX(-2px);\n    },"],changeDetection:0}),n})(),Pe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[h.ez,q,F]}),n})();function oe(n){let t=0,o=0;return["r","g","b","a","h","s","l","v"].forEach(r=>{!n[r]||(t+=1,isNaN(n[r])||(o+=1),("s"===r||"l"===r)&&/^\d+%$/.test(n[r])&&(o+=1))}),t===o&&n}function k(n,i,t){const o=new M(n.hex?n.hex:n);t&&o.setAlpha(1);const r=o.toHsl(),a=o.toHsv(),s=o.toRgb(),c=o.toHex();return 0===r.s&&(r.h=i||0,a.h=i||0),{hsl:r,hex:"000000"===c&&0===s.a?"transparent":o.toHexString(),rgb:s,hsv:a,oldHue:n.h||i||r.h,source:n.source}}let De=(()=>{class n{constructor(){this.color={h:250,s:.5,l:.2,a:1},this.onChange=new e.vpe,this.onChangeComplete=new e.vpe,this.onSwatchHover=new e.vpe}ngOnInit(){this.changes=this.onChange.pipe((0,pe.b)(100)).subscribe(t=>this.onChangeComplete.emit(t)),this.setState(k(this.color,0)),this.currentColor=this.hex}ngOnChanges(){this.setState(k(this.color,this.oldHue))}ngOnDestroy(){this.changes.unsubscribe()}setState(t){this.oldHue=t.oldHue,this.hsl=t.hsl,this.hsv=t.hsv,this.rgb=t.rgb,this.hex=t.hex,this.source=t.source,this.afterValidChange()}handleChange(t,o){if(oe(t)){const a=k(t,t.h||this.oldHue,this.disableAlpha);this.setState(a),this.onChange.emit({color:a,$event:o}),this.afterValidChange()}}afterValidChange(){}handleSwatchHover(t,o){if(oe(t)){const a=k(t,t.h||this.oldHue);this.setState(a),this.onSwatchHover.emit({color:a,$event:o})}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["color-wrap"]],inputs:{color:"color",className:"className"},outputs:{onChange:"onChange",onChangeComplete:"onChangeComplete",onSwatchHover:"onSwatchHover"},features:[e.TTD],decls:0,vars:0,template:function(t,o){},encapsulation:2}),n})(),He=(()=>{class n{constructor(){this.placeholder="",this.onChange=new e.vpe,this.focus=!1}ngOnInit(){this.wrapStyle=this.style&&this.style.wrap?this.style.wrap:{},this.inputStyle=this.style&&this.style.input?this.style.input:{},this.labelStyle=this.style&&this.style.label?this.style.label:{},this.dragLabel&&(this.labelStyle.cursor="ew-resize")}handleFocus(t){this.focus=!0}handleFocusOut(t){this.focus=!1,this.currentValue=this.blurValue}handleKeydown(t){const o=String(t.target.value),r=o.indexOf("%")>-1,a=Number(o.replace(/%/g,""));if(isNaN(a))return;const s=this.arrowOffset||1;38===t.keyCode&&(this.onChange.emit(this.label?{data:{[this.label]:a+s},$event:t}:{data:a+s,$event:t}),this.currentValue=r?`${a+s}%`:a+s),40===t.keyCode&&(this.onChange.emit(this.label?{data:{[this.label]:a-s},$event:t}:{data:a-s,$event:t}),this.currentValue=r?a-s+"%":a-s)}handleKeyup(t){40===t.keyCode||38===t.keyCode||`${this.currentValue}`!==t.target.value&&this.onChange.emit(this.label?{data:{[this.label]:t.target.value},$event:t}:{data:t.target.value,$event:t})}ngOnChanges(){this.focus||(this.currentValue=String(this.value).toUpperCase()),this.blurValue=String(this.value).toUpperCase()}ngOnDestroy(){this.unsubscribe()}subscribe(){this.mousemove=(0,V.R)(document,"mousemove").subscribe(t=>this.handleDrag(t)),this.mouseup=(0,V.R)(document,"mouseup").subscribe(()=>this.unsubscribe())}unsubscribe(){this.mousemove&&this.mousemove.unsubscribe(),this.mouseup&&this.mouseup.unsubscribe()}handleMousedown(t){this.dragLabel&&(t.preventDefault(),this.handleDrag(t),this.subscribe())}handleDrag(t){if(this.dragLabel){const o=Math.round(this.value+t.movementX);o>=0&&o<=this.dragMax&&this.onChange.emit({data:{[this.label]:o},$event:t})}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["color-editable-input"]],inputs:{placeholder:"placeholder",style:"style",label:"label",value:"value",arrowOffset:"arrowOffset",dragLabel:"dragLabel",dragMax:"dragMax"},outputs:{onChange:"onChange"},features:[e.TTD],decls:3,vars:5,consts:[[1,"wrap",3,"ngStyle"],["spellCheck","false",3,"ngStyle","value","placeholder","keydown","keyup","focus","focusout"],[3,"ngStyle","mousedown",4,"ngIf"],[3,"ngStyle","mousedown"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"input",1),e.NdJ("keydown",function(a){return o.handleKeydown(a)})("keyup",function(a){return o.handleKeyup(a)})("focus",function(a){return o.handleFocus(a)})("focusout",function(a){return o.handleFocusOut(a)}),e.qZA(),e.YNc(2,Se,2,2,"span",2),e.qZA()),2&t&&(e.Q6J("ngStyle",o.wrapStyle),e.xp6(1),e.Q6J("ngStyle",o.inputStyle)("value",o.currentValue)("placeholder",o.placeholder),e.xp6(1),e.Q6J("ngIf",o.label))},dependencies:[h.O5,h.PC],styles:["[_nghost-%COMP%] {\n        display: flex;\n      }\n      .wrap[_ngcontent-%COMP%] {\n        position: relative;\n      }"],changeDetection:0}),n})(),Ue=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[h.ez]}),n})(),Ne=(()=>{class n{constructor(){this.hidePointer=!1,this.direction="horizontal",this.onChange=new e.vpe,this.left="0px",this.top=""}ngOnChanges(){"horizontal"===this.direction?this.left=100*this.hsl.h/360+"%":this.top=-100*this.hsl.h/360+100+"%"}handleChange({top:t,left:o,containerHeight:r,containerWidth:a,$event:s}){let c;if("vertical"===this.direction){let l;l=t<0?359:t>r?0:360*(-100*t/r+100)/100,this.hsl.h!==l&&(c={h:l,s:this.hsl.s,l:this.hsl.l,a:this.hsl.a,source:"rgb"})}else{let l;l=o<0?0:o>a?359:100*o/a*360/100,this.hsl.h!==l&&(c={h:l,s:this.hsl.s,l:this.hsl.l,a:this.hsl.a,source:"rgb"})}!c||this.onChange.emit({data:c,$event:s})}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["color-hue"]],inputs:{hidePointer:"hidePointer",direction:"direction",hsl:"hsl",pointer:"pointer",radius:"radius",shadow:"shadow"},outputs:{onChange:"onChange"},features:[e.TTD],decls:3,vars:8,consts:[["ngx-color-coordinates","",1,"color-hue-container",3,"coordinatesChange"],["class","color-hue-pointer",3,"left","top",4,"ngIf"],[1,"color-hue-pointer"],[1,"color-hue-slider",3,"ngStyle"]],template:function(t,o){1&t&&(e.TgZ(0,"div")(1,"div",0),e.NdJ("coordinatesChange",function(a){return o.handleChange(a)}),e.YNc(2,ke,2,5,"div",1),e.qZA()()),2&t&&(e.Gre("color-hue color-hue-",o.direction,""),e.Udp("border-radius",o.radius,"px")("box-shadow",o.shadow),e.xp6(2),e.Q6J("ngIf",!o.hidePointer))},dependencies:[h.O5,h.PC,O],styles:[".color-hue[_ngcontent-%COMP%] {\n      position: absolute;\n      top: 0;\n      bottom: 0;\n      left: 0;\n      right: 0;\n    }\n    .color-hue-container[_ngcontent-%COMP%] {\n      margin: 0 2px;\n      position: relative;\n      height: 100%;\n    }\n    .color-hue-pointer[_ngcontent-%COMP%] {\n      position: absolute;\n    }\n    .color-hue-slider[_ngcontent-%COMP%] {\n      margin-top: 1px;\n      width: 4px;\n      border-radius: 1px;\n      height: 8px;\n      box-shadow: 0 0 2px rgba(0, 0, 0, .6);\n      background: #fff;\n      transform: translateX(-2px);\n    }\n    .color-hue-horizontal[_ngcontent-%COMP%] {\n      background: linear-gradient(to right, #f00 0%, #ff0 17%, #0f0\n        33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);\n    }\n    .color-hue-vertical[_ngcontent-%COMP%] {\n      background: linear-gradient(to top, #f00 0%, #ff0 17%, #0f0 33%,\n        #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);\n    }"],changeDetection:0}),n})(),Ie=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[h.ez,F]}),n})(),qe=(()=>{class n{constructor(){this.onChange=new e.vpe}ngOnChanges(){this.background=`hsl(${this.hsl.h}, 100%, 50%)`,this.pointerTop=-100*this.hsv.v+1+100+"%",this.pointerLeft=100*this.hsv.s+"%"}handleChange({top:t,left:o,containerHeight:r,containerWidth:a,$event:s}){o<0?o=0:o>a?o=a:t<0?t=0:t>r&&(t=r);let l=-t/r+1;l=l>0?l:0,l=l>1?1:l,this.onChange.emit({data:{h:this.hsl.h,s:o/a,v:l,a:this.hsl.a,source:"hsva"},$event:s})}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["color-saturation"]],inputs:{hsl:"hsl",hsv:"hsv",radius:"radius",pointer:"pointer",circle:"circle"},outputs:{onChange:"onChange"},features:[e.TTD],decls:5,vars:8,consts:[["ngx-color-coordinates","",1,"color-saturation",3,"coordinatesChange"],[1,"saturation-white"],[1,"saturation-black"],[1,"saturation-pointer",3,"ngStyle"],[1,"saturation-circle",3,"ngStyle"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0),e.NdJ("coordinatesChange",function(a){return o.handleChange(a)}),e.TgZ(1,"div",1),e._UZ(2,"div",2),e.TgZ(3,"div",3),e._UZ(4,"div",4),e.qZA()()()),2&t&&(e.Udp("background",o.background),e.xp6(3),e.Udp("top",o.pointerTop)("left",o.pointerLeft),e.Q6J("ngStyle",o.pointer),e.xp6(1),e.Q6J("ngStyle",o.circle))},dependencies:[h.PC,O],styles:[".saturation-white[_ngcontent-%COMP%] {\n      background: linear-gradient(to right, #fff, rgba(255,255,255,0));\n      position: absolute;\n      top: 0;\n      bottom: 0;\n      left: 0;\n      right: 0;\n    }\n    .saturation-black[_ngcontent-%COMP%] {\n      background: linear-gradient(to top, #000, rgba(0,0,0,0));\n      position: absolute;\n      top: 0;\n      bottom: 0;\n      left: 0;\n      right: 0;\n    }\n    .color-saturation[_ngcontent-%COMP%] {\n      position: absolute;\n      top: 0;\n      bottom: 0;\n      left: 0;\n      right: 0;\n    }\n    .saturation-pointer[_ngcontent-%COMP%] {\n      position: absolute;\n      cursor: default;\n    }\n    .saturation-circle[_ngcontent-%COMP%] {\n      width: 4px;\n      height: 4px;\n      box-shadow: 0 0 0 1.5px #fff, inset 0 0 1px 1px rgba(0,0,0,.3), 0 0 1px 2px rgba(0,0,0,.4);\n      border-radius: 50%;\n      cursor: hand;\n      transform: translate(-2px, -4px);\n    }"],changeDetection:0}),n})(),Ee=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[h.ez,F]}),n})();const _=function(n,i){return{input:n,label:i}};function Re(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",11)(1,"color-editable-input",12),e.NdJ("onChange",function(r){e.CHM(t);const a=e.oxw();return e.KtG(a.handleChange(r))}),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(1),e.Akn(e.WLB(3,_,t.input,t.label)),e.Q6J("value",t.hex)}}function Le(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"color-editable-input",17),e.NdJ("onChange",function(r){e.CHM(t);const a=e.oxw(2);return e.KtG(a.handleChange(r))}),e.qZA()}if(2&n){const t=e.oxw(2);e.Akn(e.WLB(4,_,t.input,t.label)),e.Q6J("value",t.rgb.a)("arrowOffset",.01)}}function Qe(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",11)(1,"color-editable-input",13),e.NdJ("onChange",function(r){e.CHM(t);const a=e.oxw();return e.KtG(a.handleChange(r))}),e.qZA()(),e.TgZ(2,"div",11)(3,"color-editable-input",14),e.NdJ("onChange",function(r){e.CHM(t);const a=e.oxw();return e.KtG(a.handleChange(r))}),e.qZA()(),e.TgZ(4,"div",11)(5,"color-editable-input",15),e.NdJ("onChange",function(r){e.CHM(t);const a=e.oxw();return e.KtG(a.handleChange(r))}),e.qZA()(),e.TgZ(6,"div",11),e.YNc(7,Le,1,7,"color-editable-input",16),e.qZA()}if(2&n){const t=e.oxw();e.xp6(1),e.Akn(e.WLB(10,_,t.input,t.label)),e.Q6J("value",t.rgb.r),e.xp6(2),e.Akn(e.WLB(13,_,t.input,t.label)),e.Q6J("value",t.rgb.g),e.xp6(2),e.Akn(e.WLB(16,_,t.input,t.label)),e.Q6J("value",t.rgb.b),e.xp6(2),e.Q6J("ngIf",!t.disableAlpha)}}function Ye(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"color-editable-input",17),e.NdJ("onChange",function(r){e.CHM(t);const a=e.oxw(2);return e.KtG(a.handleChange(r))}),e.qZA()}if(2&n){const t=e.oxw(2);e.Akn(e.WLB(4,_,t.input,t.label)),e.Q6J("value",t.hsl.a)("arrowOffset",.01)}}function Be(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",11)(1,"color-editable-input",18),e.NdJ("onChange",function(r){e.CHM(t);const a=e.oxw();return e.KtG(a.handleChange(r))}),e.qZA()(),e.TgZ(2,"div",11)(3,"color-editable-input",19),e.NdJ("onChange",function(r){e.CHM(t);const a=e.oxw();return e.KtG(a.handleChange(r))}),e.qZA()(),e.TgZ(4,"div",11)(5,"color-editable-input",20),e.NdJ("onChange",function(r){e.CHM(t);const a=e.oxw();return e.KtG(a.handleChange(r))}),e.qZA()(),e.TgZ(6,"div",11),e.YNc(7,Ye,1,7,"color-editable-input",16),e.qZA()}if(2&n){const t=e.oxw();e.xp6(1),e.Akn(e.WLB(10,_,t.input,t.label)),e.Q6J("value",t.round(t.hsl.h)),e.xp6(2),e.Akn(e.WLB(13,_,t.input,t.label)),e.Q6J("value",t.round(100*t.hsl.s)+"%"),e.xp6(2),e.Akn(e.WLB(16,_,t.input,t.label)),e.Q6J("value",t.round(100*t.hsl.l)+"%"),e.xp6(2),e.Q6J("ngIf",!t.disableAlpha)}}function ze(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",12)(1,"color-alpha",13),e.NdJ("onChange",function(r){e.CHM(t);const a=e.oxw();return e.KtG(a.handleValueChange(r))}),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(1),e.Q6J("radius",2)("rgb",t.rgb)("hsl",t.hsl)("pointer",t.pointer)}}let je=(()=>{class n{constructor(){this.onChange=new e.vpe,this.view="",this.input={fontSize:"11px",color:"#333",width:"100%",borderRadius:"2px",border:"none",boxShadow:"inset 0 0 0 1px #dadada",height:"21px","text-align":"center"},this.label={"text-transform":"uppercase",fontSize:"11px","line-height":"11px",color:"#969696","text-align":"center",display:"block",marginTop:"12px"}}ngOnInit(){1===this.hsl.a&&"hex"!==this.view?this.view="hex":"rgb"!==this.view&&"hsl"!==this.view&&(this.view="rgb")}toggleViews(){"hex"===this.view?this.view="rgb":"rgb"===this.view?this.view="hsl":"hsl"===this.view&&(this.view=1===this.hsl.a?"hex":"rgb")}round(t){return Math.round(t)}handleChange({data:t,$event:o}){if(t.hex){if(function Je(n){return new M(n).isValid}(t.hex)){const r=new M(t.hex);this.onChange.emit({data:{hex:this.disableAlpha?r.toHex():r.toHex8(),source:"hex"},$event:o})}}else if(t.r||t.g||t.b)this.onChange.emit({data:{r:t.r||this.rgb.r,g:t.g||this.rgb.g,b:t.b||this.rgb.b,source:"rgb"},$event:o});else if(t.a)t.a<0?t.a=0:t.a>1&&(t.a=1),this.disableAlpha&&(t.a=1),this.onChange.emit({data:{h:this.hsl.h,s:this.hsl.s,l:this.hsl.l,a:Math.round(100*t.a)/100,source:"rgb"},$event:o});else if(t.h||t.s||t.l){const r=t.s&&t.s.replace("%",""),a=t.l&&t.l.replace("%","");this.onChange.emit({data:{h:t.h||this.hsl.h,s:Number(r||this.hsl.s),l:Number(a||this.hsl.l),source:"hsl"},$event:o})}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["color-chrome-fields"]],inputs:{disableAlpha:"disableAlpha",hsl:"hsl",rgb:"rgb",hex:"hex"},outputs:{onChange:"onChange"},decls:13,vars:3,consts:[[1,"chrome-wrap"],[1,"chrome-fields"],[3,"ngIf"],[1,"chrome-toggle"],[1,"chrome-icon",3,"click"],["icon",""],["viewBox","0 0 24 24",1,"chrome-toggle-svg"],["fill","#333","d","M12,5.83L15.17,9L16.58,7.59L12,3L7.41,7.59L8.83,9L12,5.83Z"],["iconUp",""],["fill","#333","d","M12,18.17L8.83,15L7.42,16.41L12,21L16.59,16.41L15.17,15Z"],["iconDown",""],[1,"chrome-field"],["label","hex",3,"value","onChange"],["label","r",3,"value","onChange"],["label","g",3,"value","onChange"],["label","b",3,"value","onChange"],["label","a",3,"style","value","arrowOffset","onChange",4,"ngIf"],["label","a",3,"value","arrowOffset","onChange"],["label","h",3,"value","onChange"],["label","s",3,"value","onChange"],["label","l",3,"value","onChange"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"div",1),e.YNc(2,Re,2,6,"ng-template",2),e.YNc(3,Qe,8,19,"ng-template",2),e.YNc(4,Be,8,19,"ng-template",2),e.qZA(),e.TgZ(5,"div",3)(6,"div",4,5),e.NdJ("click",function(){return o.toggleViews()}),e.O4$(),e.TgZ(8,"svg",6),e._UZ(9,"path",7,8)(11,"path",9,10),e.qZA()()()()),2&t&&(e.xp6(2),e.Q6J("ngIf","hex"===o.view),e.xp6(1),e.Q6J("ngIf","rgb"===o.view),e.xp6(1),e.Q6J("ngIf","hsl"===o.view))},dependencies:[h.O5,He],styles:[".chrome-wrap[_ngcontent-%COMP%] {\n        padding-top: 16px;\n        display: flex;\n      }\n      .chrome-fields[_ngcontent-%COMP%] {\n        flex: 1;\n        display: flex;\n        margin-left: -6px;\n      }\n      .chrome-field[_ngcontent-%COMP%] {\n        padding-left: 6px;\n        width: 100%;\n      }\n      .chrome-toggle[_ngcontent-%COMP%] {\n        width: 32px;\n        text-align: right;\n        position: relative;\n      }\n      .chrome-icon[_ngcontent-%COMP%] {\n        margin-right: -4px;\n        margin-top: 12px;\n        cursor: pointer;\n        position: relative;\n      }\n      .chrome-toggle-svg[_ngcontent-%COMP%] {\n        width: 24px;\n        height: 24px;\n        border: 1px transparent solid;\n        border-radius: 5px;\n      }\n      .chrome-toggle-svg[_ngcontent-%COMP%]:hover {\n        background: #eee;\n      }"],changeDetection:0}),n})(),ie=(()=>{class n extends De{constructor(){super(),this.disableAlpha=!1,this.circle={width:"12px",height:"12px",borderRadius:"6px",boxShadow:"rgb(255, 255, 255) 0px 0px 0px 1px inset",transform:"translate(-6px, -8px)"},this.pointer={width:"12px",height:"12px",borderRadius:"6px",transform:"translate(-6px, -2px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}}afterValidChange(){this.activeBackground=`rgba(${this.rgb.r}, ${this.rgb.g}, ${this.rgb.b}, ${this.disableAlpha?1:this.rgb.a})`}handleValueChange({data:t,$event:o}){this.handleChange(t,o)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["color-chrome"]],inputs:{disableAlpha:"disableAlpha"},features:[e.qOj],decls:14,vars:16,consts:[[1,"saturation"],[3,"hsl","hsv","circle","onChange"],[1,"chrome-body"],[1,"chrome-controls"],[1,"chrome-color"],[1,"chrome-swatch"],[1,"chrome-active"],[1,"chrome-toggles"],[1,"chrome-hue"],[3,"radius","hsl","pointer","onChange"],["class","chrome-alpha",4,"ngIf"],[3,"rgb","hsl","hex","disableAlpha","onChange"],[1,"chrome-alpha"],[3,"radius","rgb","hsl","pointer","onChange"]],template:function(t,o){1&t&&(e.TgZ(0,"div")(1,"div",0)(2,"color-saturation",1),e.NdJ("onChange",function(a){return o.handleValueChange(a)}),e.qZA()(),e.TgZ(3,"div",2)(4,"div",3)(5,"div",4)(6,"div",5),e._UZ(7,"div",6)(8,"color-checkboard"),e.qZA()(),e.TgZ(9,"div",7)(10,"div",8)(11,"color-hue",9),e.NdJ("onChange",function(a){return o.handleValueChange(a)}),e.qZA()(),e.YNc(12,ze,2,4,"div",10),e.qZA()(),e.TgZ(13,"color-chrome-fields",11),e.NdJ("onChange",function(a){return o.handleValueChange(a)}),e.qZA()()()),2&t&&(e.Gre("chrome-picker ",o.className,""),e.xp6(2),e.Q6J("hsl",o.hsl)("hsv",o.hsv)("circle",o.circle),e.xp6(5),e.Udp("background",o.activeBackground),e.xp6(4),e.Q6J("radius",2)("hsl",o.hsl)("pointer",o.pointer),e.xp6(1),e.Q6J("ngIf",!o.disableAlpha),e.xp6(1),e.Q6J("rgb",o.rgb)("hsl",o.hsl)("hex",o.hex)("disableAlpha",o.disableAlpha))},dependencies:[h.O5,Fe,I,Ne,qe,je],styles:[".chrome-picker[_ngcontent-%COMP%] {\n        background: #fff;\n        border-radius: 2px;\n        box-shadow: 0 0 2px rgba(0, 0, 0, 0.3), 0 4px 8px rgba(0, 0, 0, 0.3);\n        box-sizing: initial;\n        width: 225px;\n        font-family: 'Menlo';\n      }\n      .chrome-controls[_ngcontent-%COMP%] {\n        display: flex;\n      }\n      .chrome-color[_ngcontent-%COMP%] {\n        width: 42px;\n      }\n      .chrome-body[_ngcontent-%COMP%] {\n        padding: 14px 14px 12px;\n      }\n      .chrome-active[_ngcontent-%COMP%] {\n        position: absolute;\n        top: 0;\n        bottom: 0;\n        left: 0;\n        right: 0;\n        border-radius: 20px;\n        box-shadow: inset 0 0 0 1px rgba(0, 0, 0, 0.1);\n        z-index: 2;\n      }\n      .chrome-swatch[_ngcontent-%COMP%] {\n        width: 28px;\n        height: 28px;\n        border-radius: 15px;\n        position: relative;\n        overflow: hidden;\n      }\n      .saturation[_ngcontent-%COMP%] {\n        width: 100%;\n        padding-bottom: 55%;\n        position: relative;\n        border-radius: 2px 2px 0 0;\n        overflow: hidden;\n      }\n      .chrome-toggles[_ngcontent-%COMP%] {\n        flex: 1;\n      }\n      .chrome-hue[_ngcontent-%COMP%] {\n        height: 10px;\n        position: relative;\n        margin-bottom: 8px;\n      }\n      .chrome-alpha[_ngcontent-%COMP%] {\n        height: 10px;\n        position: relative;\n      }"],changeDetection:0}),n})(),Ge=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[h.ez,Pe,q,Ue,Ie,Ee]}),n})();var E=d(2734);function Ve(n,i){1&n&&e._UZ(0,"div",31)}function We(n,i){1&n&&(e.TgZ(0,"div",32),e._uU(1,"Name is required"),e.qZA())}function Ke(n,i){if(1&n&&(e.TgZ(0,"span",33),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.selectedFile?null:t.selectedFile.name," ")}}function Xe(n,i){if(1&n&&(e.TgZ(0,"span",33),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",t.fileName," ")}}function $e(n,i){1&n&&(e.TgZ(0,"div",32),e._uU(1,"Image is required"),e.qZA())}function et(n,i){1&n&&e._UZ(0,"span",34)}function nt(n,i){1&n&&(e.TgZ(0,"div",31),e._uU(1," Name is required"),e.qZA())}function ot(n,i){if(1&n&&(e.TgZ(0,"span",32),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.hij(" ",null==t.selectedFile?null:t.selectedFile.name," ")}}function it(n,i){if(1&n&&(e.TgZ(0,"span",32),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.hij(" ",t.fileName," ")}}function rt(n,i){1&n&&(e.TgZ(0,"div",31),e._uU(1,"Image is required"),e.qZA())}function at(n,i){1&n&&e._UZ(0,"span",33)}function st(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"form",9,10),e.NdJ("ngSubmit",function(r){e.CHM(t);const a=e.MAs(1),s=e.oxw();return e.KtG(s.updateCategoryData(r,a.value))})("keydown.enter",function(r){return r.preventDefault()})("keydown.shift.enter",function(r){return r.preventDefault()}),e.TgZ(2,"div",11)(3,"div",12)(4,"label"),e._uU(5,"Category (ENGLISH)"),e.qZA(),e.TgZ(6,"input",13),e.NdJ("ngModelChange",function(r){e.CHM(t);const a=e.oxw();return e.KtG(a.Category.name=r)}),e.qZA(),e.YNc(7,nt,2,0,"div",14),e.qZA(),e.TgZ(8,"div",12)(9,"label"),e._uU(10,"Category (ARABIC)"),e.qZA(),e.TgZ(11,"input",15),e.NdJ("ngModelChange",function(r){e.CHM(t);const a=e.oxw();return e.KtG(a.Category.name_arabic=r)}),e.qZA()()(),e.TgZ(12,"div",11)(13,"div",12)(14,"div",16)(15,"label"),e._uU(16,"Choose image"),e.qZA(),e.TgZ(17,"label",17)(18,"button",18),e._uU(19," Select file "),e._UZ(20,"em",19),e.qZA(),e.TgZ(21,"input",20),e.NdJ("input",function(r){e.CHM(t);const a=e.oxw();return e.KtG(a.onFileChanged(r))}),e.qZA(),e.YNc(22,ot,2,1,"span",21),e.YNc(23,it,2,1,"span",21),e.qZA(),e.YNc(24,rt,2,0,"div",14),e.qZA(),e.TgZ(25,"div",22),e._UZ(26,"img",23),e.YNc(27,at,1,0,"span",24),e.qZA()(),e.TgZ(28,"div",25)(29,"label"),e._uU(30,"Active"),e.qZA(),e.TgZ(31,"ui-switch",26),e.NdJ("ngModelChange",function(r){e.CHM(t);const a=e.oxw();return e.KtG(a.Category.is_enabled=r)}),e.qZA()(),e.TgZ(32,"div",27)(33,"label"),e._uU(34,"Color"),e.qZA(),e.TgZ(35,"color-chrome",28),e.NdJ("onChange",function(r){e.CHM(t);const a=e.oxw();return e.KtG(a.handleColorChange(r))}),e.qZA()()(),e.TgZ(36,"button",29),e._uU(37,"Cancel"),e.qZA(),e.TgZ(38,"button",30),e._uU(39,"Save"),e.qZA()()}if(2&n){const t=e.oxw();e.Q6J("formGroup",t.valForm),e.xp6(6),e.Q6J("ngModel",t.Category.name),e.xp6(1),e.Q6J("ngIf",t.valForm.controls.name.hasError("required")&&(t.valForm.controls.name.dirty||t.valForm.controls.name.touched)),e.xp6(4),e.Q6J("ngModel",t.Category.name_arabic),e.xp6(11),e.Q6J("ngIf",null==t.selectedFile?null:t.selectedFile.name),e.xp6(1),e.Q6J("ngIf",!(null!=t.selectedFile&&t.selectedFile.name)),e.xp6(1),e.Q6J("ngIf",t.valForm.controls.file.hasError("required")&&(t.valForm.controls.file.dirty||t.valForm.controls.file.touched)),e.xp6(2),e.Q6J("src",t.fileUrl,e.LSH),e.xp6(1),e.Q6J("ngIf",t.loading),e.xp6(4),e.Q6J("ngModel",t.Category.is_enabled),e.xp6(4),e.s9C("color",t.color),e.xp6(1),e.Q6J("routerLink","/categories")}}const lt=[{path:"",component:Y},{path:"categories",component:Y},{path:"add",component:(()=>{class n{constructor(t,o,r,a,s,c){this.afs=o,this.router=r,this.categoryService=a,this.validationService=s,this.fireStorage=c,this.color="#000",this.loading=!1,this.submitData=(l,p)=>{let v={name:l.name,name_arabic:l.name_arabic,is_enabled:l.isEnabled,color:this.color,created_at:S.Z.firestore.FieldValue.serverTimestamp(),updated_at:S.Z.firestore.FieldValue.serverTimestamp(),created_by:this.uid,image:p};this.categoryService.addCategory(v).then(()=>{this.afs.collection("settings").doc("counts").update({"counts.categories":S.Z.firestore.FieldValue.increment(1)}).then(m=>{this.loading=!1,this.validationService.sweetalertSuccess(),this.router.navigate(["categories"])}).catch(m=>{this.loading=!1})}).catch(m=>{console.log(m),this.loading=!1})},this.valForm=t.group({name:[null,u.kI.required],name_arabic:"",color:["#000",u.kI.required],file:[null,u.kI.required],isEnabled:[!0,u.kI.required]})}ngOnInit(){this.uid=sessionStorage.getItem("uid")}handleColorChange(t){const{hex:o}=t.color;this.color=o}onFileChanged(t){if(t){if(this.selectedFile=t.target.files[0],this.fileUrl=this.selectedFile.src,0===this.selectedFile.length)return;const o=new FileReader;o.readAsDataURL(this.selectedFile),o.onload=r=>{this.fileUrl=o.result}}}addCategoryData(t,o){t.preventDefault();for(let r in this.valForm.controls)this.valForm.controls[r].markAsTouched();if(this.valForm.valid){this.loading=!0;const r=this.selectedFile,a=Date.now(),s="/categories",l=this.fireStorage.ref(`${s}/${a}-${r.name}`);this.fireStorage.upload(`${s}/${a}-${r.name}`,r).snapshotChanges().pipe((0,B.x)(()=>{l.getDownloadURL().subscribe(m=>{m&&(console.log("url",m),this.submitData(o,m))})})).subscribe(v=>{v&&(this.loading=!1)})}}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(u.QS),e.Y36(L.ST),e.Y36(y.F0),e.Y36(P.H),e.Y36(z.R),e.Y36(j.Q1))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-category-add"]],decls:52,vars:10,consts:[[1,"content-heading"],[1,"d-flex","justify-content-between","w-100","align-items-center"],["type","button",1,"btn","btn-primary","d-flex","align-items-center",3,"routerLink"],["_ngcontent-lgi-c20","",1,"icon-arrow-left","mr-1"],[1,"row"],[1,"col-md-12"],["class","spinner-border loading","role","status",4,"ngIf"],[1,"card","card-default"],[1,"card-body"],["role","form",1,"form-validate",3,"formGroup","ngSubmit","keydown.enter","keydown.shift.enter"],["dataPost","ngForm"],[1,"form-row"],[1,"col-lg-6","mb-3"],["required","","formControlName","name","ngModel","","name","name","type","text","placeholder","Enter name",1,"form-control","with-focus"],["class","text-danger",4,"ngIf"],["formControlName","name_arabic","ngModel","","name","name_arabic","type","text","placeholder","Enter name",1,"form-control","with-focus"],[1,"form-group"],["for","image-input",1,"file-upload"],[1,"btn","btn-secondary"],[1,"far","fa-folder-open","mr"],["ngModel","","placeholder","Choose category image","type","file","formControlName","file","name","file","accept",".jpeg,.jpg,.png,.svg",1,"form-control",3,"input"],["class","form-control",4,"ngIf"],[1,"image-preview-box"],["onerror","this.onerror=null;this.src='assets/img/preview-img.png';",1,"previewImage",3,"src"],["class","spinner-border spinner-border-sm custom-spinner",4,"ngIf"],[1,"col-lg-2","mb-3",2,"justify-content","center","align-items","center"],["formControlName","isEnabled"],[1,"col-lg-4","mb-3"],[3,"color","onChange"],["type","button",1,"btn","btn-sm","btn-secondary","mr-2",3,"click"],["type","submit",1,"btn","btn-sm","btn-info"],["role","status",1,"spinner-border","loading"],[1,"text-danger"],[1,"form-control"],[1,"spinner-border","spinner-border-sm","custom-spinner"]],template:function(t,o){if(1&t){const r=e.EpF();e.TgZ(0,"div",0)(1,"div",1)(2,"span"),e._uU(3,"Add category"),e.qZA(),e.TgZ(4,"button",2),e._UZ(5,"em",3),e._uU(6," Back "),e.qZA()()(),e.TgZ(7,"div",4)(8,"div",5),e.YNc(9,Ve,1,0,"div",6),e.TgZ(10,"div",7)(11,"div",8)(12,"form",9,10),e.NdJ("ngSubmit",function(s){e.CHM(r);const c=e.MAs(13);return e.KtG(o.addCategoryData(s,c.value))})("keydown.enter",function(s){return s.preventDefault()})("keydown.shift.enter",function(s){return s.preventDefault()}),e.TgZ(14,"div",11)(15,"div",12)(16,"label"),e._uU(17,"Category (ENGLISH)"),e.qZA(),e._UZ(18,"input",13),e.YNc(19,We,2,0,"div",14),e.qZA(),e.TgZ(20,"div",12)(21,"label"),e._uU(22,"Category (ARABIC)"),e.qZA(),e._UZ(23,"input",15),e.qZA()(),e.TgZ(24,"div",11)(25,"div",12)(26,"div",16)(27,"label"),e._uU(28,"Choose image"),e.qZA(),e.TgZ(29,"label",17)(30,"button",18),e._uU(31," Select file "),e._UZ(32,"em",19),e.qZA(),e.TgZ(33,"input",20),e.NdJ("input",function(s){return o.onFileChanged(s)}),e.qZA(),e.YNc(34,Ke,2,1,"span",21),e.YNc(35,Xe,2,1,"span",21),e.qZA(),e.YNc(36,$e,2,0,"div",14),e.qZA(),e.TgZ(37,"div",22),e._UZ(38,"img",23),e.YNc(39,et,1,0,"span",24),e.qZA()(),e.TgZ(40,"div",25)(41,"label"),e._uU(42,"Active"),e.qZA(),e._UZ(43,"ui-switch",26),e.qZA(),e.TgZ(44,"div",27)(45,"label"),e._uU(46,"Color"),e.qZA(),e.TgZ(47,"color-chrome",28),e.NdJ("onChange",function(s){return o.handleColorChange(s)}),e.qZA()()(),e.TgZ(48,"button",29),e.NdJ("click",function(){e.CHM(r);const s=e.MAs(13);return e.KtG(s.resetForm({}))}),e._uU(49,"Clear"),e.qZA(),e.TgZ(50,"button",30),e._uU(51,"Save"),e.qZA()()()()()()}2&t&&(e.xp6(4),e.Q6J("routerLink","/categories"),e.xp6(5),e.Q6J("ngIf",o.loading),e.xp6(3),e.Q6J("formGroup",o.valForm),e.xp6(7),e.Q6J("ngIf",o.valForm.controls.name.hasError("required")&&(o.valForm.controls.name.dirty||o.valForm.controls.name.touched)),e.xp6(15),e.Q6J("ngIf",null==o.selectedFile?null:o.selectedFile.name),e.xp6(1),e.Q6J("ngIf",!(null!=o.selectedFile&&o.selectedFile.name)),e.xp6(1),e.Q6J("ngIf",o.valForm.controls.file.hasError("required")&&(o.valForm.controls.file.dirty||o.valForm.controls.file.touched)),e.xp6(2),e.Q6J("src",o.fileUrl,e.LSH),e.xp6(1),e.Q6J("ngIf",o.loading),e.xp6(8),e.s9C("color",o.color))},dependencies:[h.O5,u._Y,u.Fj,u.JJ,u.JL,u.Q7,u.sg,u.u,y.rH,ie,E.ob],styles:[".switch.switch-small[_ngcontent-%COMP%]{min-width:33px}.switch.switch-medium[_ngcontent-%COMP%]{min-width:50px}.switch.switch-large[_ngcontent-%COMP%]{min-width:60px}.switch.switch-small[_ngcontent-%COMP%] > .switch-pane[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{font-size:9px}.switch.switch-medium[_ngcontent-%COMP%] > .switch-pane[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{font-size:16px}.switch.switch-large[_ngcontent-%COMP%] > .switch-pane[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{font-size:16px}.switch[_ngcontent-%COMP%]{border:1px solid #dfdfdf;position:relative;display:inline-block;box-sizing:content-box;padding:0;margin:0;cursor:pointer;box-shadow:#dfdfdf 0 0 inset;transition:.3s ease-out all;-webkit-transition:.3s ease-out all;white-space:nowrap}.switch[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{border-radius:100%;box-shadow:0 1px 3px #0006;position:absolute;top:0;right:calc(100% - 30px);transition:.3s ease-out all;-webkit-transition:.3s ease-out all;background:#fff;display:flex;align-items:center;justify-content:center}.switch.switch-small[_ngcontent-%COMP%]{height:20px;border-radius:20px}.switch.switch-small[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{width:20px;height:20px;right:calc(100% - 20px)}.switch.switch-small[_ngcontent-%COMP%] > .switch-pane[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{line-height:20px}.switch.switch-small[_ngcontent-%COMP%] > .switch-pane[_ngcontent-%COMP%]   .switch-label-checked[_ngcontent-%COMP%]{padding-right:25px;padding-left:10px}.switch.switch-small[_ngcontent-%COMP%] > .switch-pane[_ngcontent-%COMP%]   .switch-label-unchecked[_ngcontent-%COMP%]{padding-left:25px;padding-right:10px}.switch.switch-medium[_ngcontent-%COMP%]{height:30px;border-radius:30px}.switch.switch-medium[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{width:30px;height:30px;right:calc(100% - 30px)}.switch.switch-medium[_ngcontent-%COMP%] > .switch-pane[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{line-height:30px}.switch.switch-medium[_ngcontent-%COMP%] > .switch-pane[_ngcontent-%COMP%]   .switch-label-checked[_ngcontent-%COMP%]{padding-right:35px;padding-left:15px}.switch.switch-medium[_ngcontent-%COMP%] > .switch-pane[_ngcontent-%COMP%]   .switch-label-unchecked[_ngcontent-%COMP%]{padding-left:35px;padding-right:15px}.switch.switch-large[_ngcontent-%COMP%]{height:40px;border-radius:40px}.switch.switch-large[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{width:40px;height:40px;right:calc(100% - 40px)}.switch.switch-large[_ngcontent-%COMP%] > .switch-pane[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{line-height:40px}.switch.switch-large[_ngcontent-%COMP%] > .switch-pane[_ngcontent-%COMP%]   .switch-label-checked[_ngcontent-%COMP%]{padding-right:45px;padding-left:20px}.switch.switch-large[_ngcontent-%COMP%] > .switch-pane[_ngcontent-%COMP%]   .switch-label-unchecked[_ngcontent-%COMP%]{padding-left:45px;padding-right:20px}.switch.checked[_ngcontent-%COMP%]{background:rgb(100,189,99)}.switch.checked[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{right:0;left:auto}.switch.checked[_ngcontent-%COMP%]   .switch-pane[_ngcontent-%COMP%]{top:0}.switch.checked[_ngcontent-%COMP%]   .switch-pane[_ngcontent-%COMP%]   .switch-label-checked[_ngcontent-%COMP%]{display:block}.switch.checked[_ngcontent-%COMP%]   .switch-pane[_ngcontent-%COMP%]   .switch-label-unchecked[_ngcontent-%COMP%]{display:none}.switch.disabled[_ngcontent-%COMP%]{opacity:.5;cursor:not-allowed}.switch[_ngcontent-%COMP%]   .switch-pane[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%;min-height:100%;justify-content:flex-start;align-items:center;top:0;position:relative;pointer-events:none}.switch[_ngcontent-%COMP%]   .switch-pane[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{display:block;min-height:100%}.switch[_ngcontent-%COMP%]   .switch-pane[_ngcontent-%COMP%]   .switch-label[_ngcontent-%COMP%]{color:#000}.switch[_ngcontent-%COMP%]   .switch-pane[_ngcontent-%COMP%]   .switch-label-checked[_ngcontent-%COMP%]{display:none}.switch[_ngcontent-%COMP%]   .switch-pane[_ngcontent-%COMP%]   .switch-label-unchecked[_ngcontent-%COMP%]{display:block}.switch.loading[_ngcontent-%COMP%]{background-color:#f1f1f1}.switch.loading[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{background-color:transparent;border:none;box-shadow:none;right:50%;transform:translate(50%)}"]}),n})()},{path:"edit/:id",component:(()=>{class n{constructor(t,o,r,a,s,c){this.categoryService=o,this.route=r,this.validationService=a,this.fireStorage=s,this.router=c,this.color="#000",this.loading=!1,this.valForm=t.group({name:["",u.kI.required],name_arabic:"",color:["#000",u.kI.required],file:[null],isEnabled:[!0,u.kI.required]})}ngOnInit(){this.id=this.route.snapshot.params.id,this.categoryService.getCategoryDetail(this.id).get().subscribe(t=>{if(t.exists){this.Category=t.data();const{color:o}=this.Category;this.fileName=this.Category.image,this.color=o,this.fileUrl=this.Category.image}else console.log("No such document!")},t=>{console.log("error",t)})}onFileChanged(t){if(t){if(this.selectedFile=t.target.files[0],this.fileUrl=this.selectedFile.src,0===this.selectedFile.length)return;const o=new FileReader;o.readAsDataURL(this.selectedFile),o.onload=r=>{this.fileUrl=o.result}}}handleColorChange(t){const{hex:o}=t.color;this.color=o}updateCategoryData(t,o){t.preventDefault();for(let r in this.valForm.controls)this.valForm.controls[r].markAsTouched();if(this.valForm.valid)if(this.selectedFile){this.loading=!0;const r=this.selectedFile,a=Date.now(),s="/categories",l=this.fireStorage.ref(`${s}/${a}-${r.name}`);this.fireStorage.upload(`${s}/${a}-${r.name}`,r).snapshotChanges().pipe((0,B.x)(()=>{l.getDownloadURL().subscribe(m=>{m&&this.submitData(o,m)})})).subscribe(v=>{v&&(this.loading=!1)})}else this.submitData(o)}submitData(t,o){let r={name:t.name,name_arabic:null!=t.name_arabic?t.name_arabic:"",is_enabled:t.isEnabled,color:this.color,updated_at:S.Z.firestore.FieldValue.serverTimestamp()};o&&(r.image=o),this.categoryService.updateCategory(this.id,r).then(()=>{this.loading=!1,this.validationService.sweetalertUpdateSuccess(),this.router.navigate(["categories"])}).catch(a=>{this.loading=!1,console.log(a)})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(u.QS),e.Y36(P.H),e.Y36(y.gz),e.Y36(z.R),e.Y36(j.Q1),e.Y36(y.F0))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-category-edit"]],decls:12,vars:2,consts:[[1,"content-heading"],[1,"d-flex","justify-content-between","w-100","align-items-center"],["type","button",1,"btn","btn-primary","d-flex","align-items-center",3,"routerLink"],["_ngcontent-lgi-c20","",1,"icon-arrow-left","mr-1"],[1,"row"],[1,"col-md-12"],[1,"card","card-default"],[1,"card-body"],["class","form-validate","role","form",3,"formGroup","ngSubmit","keydown.enter","keydown.shift.enter",4,"ngIf"],["role","form",1,"form-validate",3,"formGroup","ngSubmit","keydown.enter","keydown.shift.enter"],["dataPost","ngForm"],[1,"form-row"],[1,"col-lg-6","mb-3"],["formControlName","name","name","name","type","text","placeholder","Enter category",1,"form-control","with-focus",3,"ngModel","ngModelChange"],["class","text-danger",4,"ngIf"],["formControlName","name_arabic","name","name_arabic","type","text","placeholder","Enter name",1,"form-control","with-focus",3,"ngModel","ngModelChange"],[1,"form-group"],["for","image-input",1,"file-upload"],[1,"btn","btn-secondary"],[1,"far","fa-folder-open","mr"],["ngModel","","placeholder","Choose category image","type","file","formControlName","file","name","file","accept",".jpeg,.jpg,.png,.svg",1,"form-control",3,"input"],["class","form-control",4,"ngIf"],[1,"image-preview-box"],["onerror","this.onerror=null;this.src='assets/img/preview-img.png';",1,"previewImage",3,"src"],["class","spinner-border spinner-border-sm custom-spinner",4,"ngIf"],[1,"col-lg-2","mb-3",2,"justify-content","center","align-items","center"],["formControlName","isEnabled",3,"ngModel","ngModelChange"],[1,"col-lg-4","mb-3"],[3,"color","onChange"],["type","button",1,"btn","btn-sm","btn-secondary","mr-2",3,"routerLink"],["type","submit",1,"btn","btn-sm","btn-info"],[1,"text-danger"],[1,"form-control"],[1,"spinner-border","spinner-border-sm","custom-spinner"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"span"),e._uU(3,"Edit category"),e.qZA(),e.TgZ(4,"button",2),e._UZ(5,"em",3),e._uU(6," Back "),e.qZA()()(),e.TgZ(7,"div",4)(8,"div",5)(9,"div",6)(10,"div",7),e.YNc(11,st,40,12,"form",8),e.qZA()()()()),2&t&&(e.xp6(4),e.Q6J("routerLink","/categories"),e.xp6(7),e.Q6J("ngIf",o.Category))},dependencies:[h.O5,u._Y,u.Fj,u.JJ,u.JL,u.sg,u.u,y.rH,ie,E.ob]}),n})()}];let ct=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[re.m,T.xD,h.ez,Ge,E.Su,y.Bz.forChild(lt),y.Bz]}),n})()}}]);