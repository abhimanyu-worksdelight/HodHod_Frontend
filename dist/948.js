"use strict";(self.webpackChunkng2angle=self.webpackChunkng2angle||[]).push([[948],{8948:(M,h,s)=>{s.r(h),s.d(h,{DashboardModule:()=>S});var l=s(6691),v=s(5229),t=s(4650),p=s(5328);let b=(()=>{class a{constructor(e,o){this.authService=e,this.router=o}canActivate(e,o){return this.authService.isLoggedInRole===sessionStorage.getItem("loginType")||(this.router.navigate(["login"]),!1)}}return a.\u0275fac=function(e){return new(e||a)(t.LFG(p.e),t.LFG(l.F0))},a.\u0275prov=t.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();var m=s(7209);let _=(()=>{class a{constructor(e,o){this.authService=e,this.router=o}canActivate(e,o){return this.authService.isLoggedInRole===sessionStorage.getItem("loginType")||(this.router.navigate(["login"]),!1)}}return a.\u0275fac=function(e){return new(e||a)(t.LFG(p.e),t.LFG(l.F0))},a.\u0275prov=t.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();var c=s(5439),T=s(4606),Z=s(8064),g=s(6895);function A(a,i){if(1&a&&(t.TgZ(0,"div",26),t._UZ(1,"img",27),t.qZA()),2&a){const e=t.oxw().$implicit;t.xp6(1),t.s9C("src",e.image,t.LSH)}}function q(a,i){1&a&&(t.TgZ(0,"div",26),t._UZ(1,"img",28),t.qZA())}function U(a,i){if(1&a&&(t.TgZ(0,"tr")(1,"td",23),t._uU(2),t.qZA(),t.TgZ(3,"td"),t.YNc(4,A,2,1,"div",25),t.YNc(5,q,2,0,"div",25),t.qZA(),t.TgZ(6,"td"),t._uU(7),t.qZA(),t.TgZ(8,"td"),t._UZ(9,"div"),t.qZA(),t.TgZ(10,"th"),t._uU(11),t.qZA()()),2&a){const e=i.$implicit,o=i.index;t.xp6(2),t.Oqu(o+1),t.xp6(2),t.Q6J("ngIf",e.image),t.xp6(1),t.Q6J("ngIf",!e.image),t.xp6(2),t.Oqu(e.name),t.xp6(2),t.Jzz("height: 20px; width: 20px; border-radius: 10px; background-color: ",e.color,";"),t.xp6(2),t.Oqu(e.is_enabled?"Yes":"No")}}function y(a,i){if(1&a&&(t.TgZ(0,"div",26),t._UZ(1,"img",27),t.qZA()),2&a){const e=t.oxw().$implicit;t.xp6(1),t.s9C("src",e.image,t.LSH)}}function x(a,i){1&a&&(t.TgZ(0,"div",26),t._UZ(1,"img",28),t.qZA())}function Y(a,i){if(1&a&&(t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t.YNc(4,y,2,1,"div",25),t.YNc(5,x,2,0,"div",25),t.qZA(),t.TgZ(6,"td"),t._uU(7),t.qZA(),t.TgZ(8,"th"),t._uU(9),t.qZA()()),2&a){const e=i.$implicit,o=i.index;t.xp6(2),t.Oqu(o+1),t.xp6(2),t.Q6J("ngIf",e.image),t.xp6(1),t.Q6J("ngIf",!e.image),t.xp6(2),t.Oqu(e.name),t.xp6(2),t.Oqu(e.is_enabled?"Yes":"No")}}s(1373);let C=(()=>{class a{constructor(e,o,d){this.userService=e,this.afs=o,this.router=d,this.Users=[],this.totalRedeemedGifts=0}ngOnInit(){this.afs.collection("settings").doc("counts").valueChanges().subscribe(o=>{this.counts=o.counts}),this.afs.collection("orders",o=>o.where("redeem_status.is_redeemed","==",!0)).snapshotChanges().subscribe(o=>{this.totalRedeemedGifts=o.length}),this.afs.collection("categories",o=>o.limit(5).orderBy("updated_at","desc")).snapshotChanges().subscribe(o=>{this.limitedCategories=[],this.limitedCategories=o.map(d=>{let r=d.payload.doc.data();return r.created_at&&(r.created_at="string"==typeof r.created_at?c(parseInt(r.created_at)).format("DD-MM-YYYY LT"):c(r.created_at.toDate()).format("DD-MM-YYYY LT")),{id:d.payload.doc.id,...r}})}),this.afs.collection("products",o=>o.limit(5)).snapshotChanges().subscribe(o=>{this.limitedProducts=[],this.limitedProducts=o.map(d=>{let r=d.payload.doc.data();return r.created_at&&(r.created_at="string"==typeof r.created_at?c(parseInt(r.created_at)).format("DD-MM-YYYY LT"):c(r.created_at.toDate()).format("DD-MM-YYYY LT")),{id:d.payload.doc.id,...r}})})}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(T.K),t.Y36(Z.ST),t.Y36(l.F0))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-dashboard"]],decls:90,vars:11,consts:[[1,"header-text"],[1,"row"],[1,"col-xl-2","col-md-4","px-2",3,"routerLink"],[1,"card","dashboard-card","border-0"],[1,"dashboard-card-top","col-12","text-right","py-3"],[1,"fas","fa-arrow-up","dashboard-arrow-icon"],[1,"dashboard-card-bottom","col-12","py-3"],[1,"fas","fa-list","dashboard-card-icon","mb-2"],[1,"dashboard-card-heading"],[1,"h2","mt-0","mb-0","dashboard-card-count"],[1,"fas","fa-shopping-basket","dashboard-card-icon","mb-2"],[1,"fas","fa-credit-card","dashboard-card-icon","mb-2"],[1,"col-xl-2","col-md-4","px-2"],[1,"fas","fa-gift","dashboard-card-icon","mb-2"],[1,"col-xl-6","col-md-6"],[1,"card","card-default"],[1,"card-header","d-flex","align-items-center","justify-content-between","py-4"],[1,"mb-0"],["type","button",1,"mr-1","btn","btn-info","comn-action-btn",3,"routerLink"],[1,"card-body"],[1,"table-responsive","table-striped"],[1,"table","table-bordered","table-hover"],[1,"border-top"],["width","70px"],[4,"ngFor","ngForOf"],["class","media",4,"ngIf"],[1,"media"],["alt","Image",1,"img-fluid","circle",3,"src"],["src","https://image.freepik.com/free-vector/3d-realistic-faceless-human-model_1441-2189.jpg","alt","Image",1,"img-fluid","circle"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0),t._uU(1,"Dashboard"),t.qZA(),t.TgZ(2,"div",1)(3,"div",2)(4,"div",3)(5,"div",4),t._UZ(6,"em",5),t.qZA(),t.TgZ(7,"div",6),t._UZ(8,"em",7),t.TgZ(9,"div",8),t._uU(10,"Products"),t.qZA(),t.TgZ(11,"div",9),t._uU(12),t.qZA()()()(),t.TgZ(13,"div",2)(14,"div",3)(15,"div",4),t._UZ(16,"em",5),t.qZA(),t.TgZ(17,"div",6),t._UZ(18,"em",10),t.TgZ(19,"div",8),t._uU(20,"Vendors"),t.qZA(),t.TgZ(21,"div",9),t._uU(22),t.qZA()()()(),t.TgZ(23,"div",2)(24,"div",3)(25,"div",4),t._UZ(26,"em",5),t.qZA(),t.TgZ(27,"div",6),t._UZ(28,"em",11),t.TgZ(29,"div",8),t._uU(30,"Payments"),t.qZA(),t.TgZ(31,"div",9),t._uU(32),t.qZA()()()(),t.TgZ(33,"div",12)(34,"div",3)(35,"div",4),t._UZ(36,"em",5),t.qZA(),t.TgZ(37,"div",6),t._UZ(38,"em",13),t.TgZ(39,"div",8),t._uU(40,"Redeemed Gifts"),t.qZA(),t.TgZ(41,"div",9),t._uU(42),t.qZA()()()()(),t.TgZ(43,"div",1)(44,"div",14)(45,"div",15)(46,"div",16)(47,"h4",17),t._uU(48,"Categories List"),t.qZA(),t.TgZ(49,"button",18),t._uU(50," View all "),t.qZA()(),t.TgZ(51,"div",19)(52,"div",20)(53,"table",21)(54,"thead")(55,"tr",22)(56,"th",23),t._uU(57,"Sr. No."),t.qZA(),t.TgZ(58,"th"),t._uU(59,"Image"),t.qZA(),t.TgZ(60,"th"),t._uU(61,"Category Name"),t.qZA(),t.TgZ(62,"th"),t._uU(63,"Color"),t.qZA(),t.TgZ(64,"th"),t._uU(65,"Active"),t.qZA()()(),t.TgZ(66,"tbody"),t.YNc(67,U,12,8,"tr",24),t.qZA()()()()()(),t.TgZ(68,"div",14)(69,"div",15)(70,"div",16)(71,"h4",17),t._uU(72,"Products List"),t.qZA(),t.TgZ(73,"button",18),t._uU(74," View all "),t.qZA()(),t.TgZ(75,"div",19)(76,"div",20)(77,"table",21)(78,"thead")(79,"tr",22)(80,"th"),t._uU(81,"Sr. No."),t.qZA(),t.TgZ(82,"th"),t._uU(83,"Image"),t.qZA(),t.TgZ(84,"th"),t._uU(85,"Product Name"),t.qZA(),t.TgZ(86,"th"),t._uU(87,"Active"),t.qZA()()(),t.TgZ(88,"tbody"),t.YNc(89,Y,10,5,"tr",24),t.qZA()()()()()()()),2&e&&(t.xp6(3),t.Q6J("routerLink","/products"),t.xp6(9),t.Oqu((null==o.counts?null:o.counts.products)||0),t.xp6(1),t.Q6J("routerLink","/vendors"),t.xp6(9),t.Oqu((null==o.counts?null:o.counts.vendors)||0),t.xp6(1),t.Q6J("routerLink","/orders"),t.xp6(9),t.Oqu((null==o.counts?null:o.counts.orders)||0),t.xp6(10),t.Oqu(o.totalRedeemedGifts?o.totalRedeemedGifts:0),t.xp6(7),t.Q6J("routerLink","/categories"),t.xp6(18),t.Q6J("ngForOf",o.limitedCategories),t.xp6(6),t.Q6J("routerLink","/products"),t.xp6(16),t.Q6J("ngForOf",o.limitedProducts))},dependencies:[g.sg,g.O5,l.rH],styles:[".header-text[_ngcontent-%COMP%]{display:inline-block;position:absolute;top:-42px;left:50px;color:#000;font-weight:700;font-size:16px}"]}),a})();function D(a,i){if(1&a&&(t.TgZ(0,"div",23),t._UZ(1,"img",24),t.qZA()),2&a){const e=t.oxw().$implicit;t.xp6(1),t.s9C("src",e.image,t.LSH)}}function L(a,i){1&a&&(t.TgZ(0,"div",23),t._UZ(1,"img",25),t.qZA())}function I(a,i){if(1&a&&(t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t.YNc(4,D,2,1,"div",22),t.YNc(5,L,2,0,"div",22),t.qZA(),t.TgZ(6,"td"),t._uU(7),t.qZA(),t.TgZ(8,"th"),t._uU(9),t.qZA()()),2&a){const e=i.$implicit,o=i.index;t.xp6(2),t.Oqu(o+1),t.xp6(2),t.Q6J("ngIf",e.image),t.xp6(1),t.Q6J("ngIf",!e.image),t.xp6(2),t.Oqu(e.name),t.xp6(2),t.Oqu(e.is_enabled?"Yes":"No")}}s(1373);const w=[{path:"",component:C,canActivate:[m.a,_]},{path:"dashboard-vendor",component:(()=>{class a{constructor(e){this.afs=e,this.Users=[]}ngOnInit(){this.loginType=sessionStorage.getItem("loginType"),this.uid=sessionStorage.getItem("uid"),this.afs.collection("vendors",e=>e.where("uid","==",this.uid)).snapshotChanges().subscribe(e=>{e.length&&e.map(o=>{this.afs.collection("shops",d=>d.where("vendor_id","==",o.payload.doc.id)).snapshotChanges().subscribe(d=>{d.length&&d.map(r=>{this.afs.collection("products",n=>n.where("store_id","array-contains",r.payload.doc.id).limit(5)).snapshotChanges().subscribe(n=>{n.length&&(this.totalProduct=n.length)})})})})}),this.afs.collection("orders",e=>e.where("redeem_status.is_redeemed","==",!0)).snapshotChanges().subscribe(e=>{e.length&&(this.totalRedeemedGifts=e.length,e.map(o=>{this.afs.collection("shops",d=>d.where("product_id","==",o.payload.doc.data().product_id)).snapshotChanges().subscribe(d=>{d.length&&d.map(r=>{this.afs.collection("products",n=>n.where("store_id","array-contains",r.payload.doc.id)).snapshotChanges().subscribe(n=>{n.length&&(this.totalItemSold=n.length)})})})}))}),"u7GeGmO2luLmkOMKeZ0k"==this.loginType?this.afs.collection("vendors",e=>e.where("uid","==",this.uid)).snapshotChanges().subscribe(e=>{e.length&&e.map(o=>{this.afs.collection("shops",d=>d.where("vendor_id","==",o.payload.doc.id)).snapshotChanges().subscribe(d=>{d.length&&d.map(r=>{this.afs.collection("products",n=>n.where("store_id","array-contains",r.payload.doc.id).limit(5)).snapshotChanges().subscribe(n=>{this.limitedProducts=[],this.limitedProducts=n.map(f=>{let u=f.payload.doc.data();return u.created_at&&(u.created_at="string"==typeof u.created_at?c(parseInt(u.created_at)).format("DD-MM-YYYY LT"):c(u.created_at.toDate()).format("DD-MM-YYYY LT")),{id:f.payload.doc.id,...u}})})})})})}):this.afs.collection("products",e=>e.limit(5)).snapshotChanges().subscribe(e=>{this.limitedProducts=[],this.limitedProducts=e.map(o=>{let d=o.payload.doc.data();return d.created_at&&(d.created_at="string"==typeof d.created_at?c(parseInt(d.created_at)).format("DD-MM-YYYY LT"):c(d.created_at.toDate()).format("DD-MM-YYYY LT")),{id:o.payload.doc.id,...d}})})}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(Z.ST))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-dashboard-vendor"]],decls:56,vars:8,consts:[[1,"header-text"],[1,"row"],[1,"col-xl-2","col-md-4","px-2",3,"routerLink"],[1,"card","dashboard-card","border-0"],[1,"dashboard-card-top","col-12","text-right","py-3"],[1,"fas","fa-arrow-up","dashboard-arrow-icon"],[1,"dashboard-card-bottom","col-12","py-3"],[1,"fas","fa-list","dashboard-card-icon","mb-2"],[1,"dashboard-card-heading"],[1,"h2","mt-0","mb-0","dashboard-card-count"],[1,"fas","fa-credit-card","dashboard-card-icon","mb-2"],[1,"fas","fa-wallet","dashboard-card-icon","mb-2"],[1,"col-lg-12"],[1,"card","card-default"],[1,"card-header","d-flex","align-items-center","justify-content-between","py-4"],[1,"mb-0"],["type","button",1,"mr-1","btn","btn-info","comn-action-btn",3,"routerLink"],[1,"card-body"],[1,"table-responsive","table-striped"],[1,"table","table-bordered","table-hover"],[1,"border-top"],[4,"ngFor","ngForOf"],["class","media",4,"ngIf"],[1,"media"],["alt","Image",1,"img-fluid","circle",3,"src"],["src","https://image.freepik.com/free-vector/3d-realistic-faceless-human-model_1441-2189.jpg","alt","Image",1,"img-fluid","circle"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0),t._uU(1,"Dashboard"),t.qZA(),t.TgZ(2,"div",1)(3,"div",2)(4,"div",3)(5,"div",4),t._UZ(6,"em",5),t.qZA(),t.TgZ(7,"div",6),t._UZ(8,"em",7),t.TgZ(9,"div",8),t._uU(10,"Products"),t.qZA(),t.TgZ(11,"div",9),t._uU(12),t.qZA()()()(),t.TgZ(13,"div",2)(14,"div",3)(15,"div",4),t._UZ(16,"em",5),t.qZA(),t.TgZ(17,"div",6),t._UZ(18,"em",10),t.TgZ(19,"div",8),t._uU(20,"Items Sold"),t.qZA(),t.TgZ(21,"div",9),t._uU(22),t.qZA()()()(),t.TgZ(23,"div",2)(24,"div",3)(25,"div",4),t._UZ(26,"em",5),t.qZA(),t.TgZ(27,"div",6),t._UZ(28,"em",11),t.TgZ(29,"div",8),t._uU(30,"Earnings"),t.qZA(),t.TgZ(31,"div",9),t._uU(32),t.qZA()()()()(),t.TgZ(33,"div",1)(34,"div",12)(35,"div",13)(36,"div",14)(37,"h4",15),t._uU(38,"Products List"),t.qZA(),t.TgZ(39,"button",16),t._uU(40," View all "),t.qZA()(),t.TgZ(41,"div",17)(42,"div",18)(43,"table",19)(44,"thead")(45,"tr",20)(46,"th"),t._uU(47,"Sr. No."),t.qZA(),t.TgZ(48,"th"),t._uU(49,"Image"),t.qZA(),t.TgZ(50,"th"),t._uU(51,"Product Name"),t.qZA(),t.TgZ(52,"th"),t._uU(53,"Active"),t.qZA()()(),t.TgZ(54,"tbody"),t.YNc(55,I,10,5,"tr",21),t.qZA()()()()()()()),2&e&&(t.xp6(3),t.Q6J("routerLink","/products"),t.xp6(9),t.Oqu(o.totalProduct?o.totalProduct:0),t.xp6(1),t.Q6J("routerLink","/myOrders"),t.xp6(9),t.Oqu(o.totalItemSold?o.totalItemSold:0),t.xp6(1),t.Q6J("routerLink","/orders"),t.xp6(9),t.Oqu(o.totalEarnings?o.totalEarnings:0),t.xp6(7),t.Q6J("routerLink","/products"),t.xp6(16),t.Q6J("ngForOf",o.limitedProducts))},dependencies:[g.sg,g.O5,l.rH],styles:[".header-text[_ngcontent-%COMP%]{display:inline-block;position:absolute;top:-42px;left:50px;color:#000;font-weight:700;font-size:16px}"]}),a})(),canActivate:[m.a,b]}];let S=(()=>{class a{}return a.\u0275fac=function(e){return new(e||a)},a.\u0275mod=t.oAB({type:a}),a.\u0275inj=t.cJS({imports:[v.m,l.Bz.forChild(w),l.Bz]}),a})()}}]);