"use strict";(self.webpackChunkng2angle=self.webpackChunkng2angle||[]).push([[434],{8434:(w,h,l)=>{l.r(h),l.d(h,{HomeSectionsModule:()=>E});var p=l(6895),d=l(1071),m=l(6691),u=l(5229),e=l(4650),f=l(8064);let v=(()=>{class n{constructor(t){this.afs=t}getHomeSectionsList(){return this.afs.collection("homeSections").snapshotChanges()}getHomeSectionsDetail(t){return this.afs.collection("homeSections").doc(t)}addHomeSections(t){return new Promise((o,s)=>{this.afs.collection("homeSections").add(t).then(i=>{o(i)}).catch(i=>{s(i)})})}deleteHomeSections(t){return new Promise((o,s)=>{this.afs.collection("homeSections").doc(t).delete().then(i=>{o(i)}).catch(i=>{s(i)})})}updateHomeSections(t,o){return new Promise((s,i)=>{this.afs.collection("homeSections").doc(t).update(o).then(a=>{s(a)}).catch(a=>{i(a)})})}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(f.ST))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Z(n,c){if(1&n){const t=e.EpF();e.TgZ(0,"div",17)(1,"button",18),e._UZ(2,"em",19),e.qZA(),e.TgZ(3,"button",20),e.NdJ("click",function(){const i=e.CHM(t).value,a=e.oxw();return e.KtG(a.deleteHomeSectionsData(i))}),e._UZ(4,"em",21),e.qZA()()}if(2&n){const t=c.value;e.xp6(1),e.MGl("routerLink","/homeSections/edit/",t,"")}}const _=l(1373);let H=(()=>{class n{constructor(t){this.homeSectionsService=t,this.HomeSections=[],this.arrayRowData="",this.rowsFilter=[],this.arrayTableData=[]}ngOnInit(){this.homeSectionsService.getHomeSectionsList().subscribe(t=>{this.HomeSections=[],this.HomeSections=t.map(o=>{let s=o.payload.doc.data();return{id:o.payload.doc.id,data:s}}),this.arrayTableData=[];for(let o=0;o<this.HomeSections.length;o++)this.arrayRowData=this.HomeSections[o].data,this.arrayRowData.sr_no=o+1,this.arrayRowData.id=this.HomeSections[o].id,this.arrayTableData.push(this.arrayRowData);this.rowsFilter=this.arrayTableData})}updateFilter(t){const o=t.target.value.toLowerCase(),s=this.arrayTableData.filter(function(i){if(""!=i.name&&null!=i.name)return-1!==i.name.toLowerCase().indexOf(o)||!o});this.rowsFilter=s,this.table.offset=0}deleteHomeSectionsData(t){this.sweetalertWarning(t)}sweetalertWarning(t){_({title:"Are you sure?",text:"Want to delete data!",icon:"warning",buttons:{cancel:{text:"Cancel",value:null,visible:!0,className:"",closeModal:!0},confirm:{text:"Yes, delete it!",value:!0,visible:!0,className:"bg-danger",closeModal:!1}}}).then(o=>{o&&this.homeSectionsService.deleteHomeSections(t).then(()=>{_("Deleted!","Data deletd!","success")})})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(v))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-home-sections-list"]],viewQuery:function(t,o){if(1&t&&e.Gf(d.nE,7),2&t){let s;e.iGM(s=e.CRH())&&(o.table=s.first)}},decls:20,vars:9,consts:[[1,"content-heading"],[1,"d-flex","justify-content-between","w-100","align-items-center"],["type","button",1,"btn","btn-primary","d-flex","align-items-center",3,"routerLink"],["_ngcontent-lgi-c20","",1,"icon-plus","mr-1"],[1,"card","card-default"],[1,"card-body"],[1,"row","mb-3"],[1,"col-lg-3"],["type","text","placeholder","Type to filter the name column...",1,"form-control",3,"keyup"],[1,"bootstrap","no-detail-row",3,"scrollbarH","columnMode","footerHeight","rowHeight","limit","rows"],["table",""],["name","Sr. No.","prop","sr_no",3,"width"],["name","Actions","sortable","false","justify-items-center","","prop","id"],["ngx-datatable-cell-template",""],["name","Unique Id","prop","id",3,"width"],["name","Name","prop","name"],["name","Active","prop","is_enabled"],[1,"d-flex"],["type","button",1,"mr-1","btn","btn-success","comn-action-btn","mb-1",3,"routerLink"],["_ngcontent-lgi-c20","",1,"fas","fa-edit"],["type","button",1,"mr-1","btn","btn-danger","comn-action-btn","mb-1",3,"click"],["_ngcontent-lgi-c20","",1,"fas","fa-trash-alt"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"span"),e._uU(3,"App Home Sections"),e.qZA(),e.TgZ(4,"button",2),e._UZ(5,"em",3),e._uU(6," Add New "),e.qZA()()(),e.TgZ(7,"div",4)(8,"div",5)(9,"div",6)(10,"div",7)(11,"input",8),e.NdJ("keyup",function(i){return o.updateFilter(i)}),e.qZA()()(),e.TgZ(12,"ngx-datatable",9,10),e._UZ(14,"ngx-datatable-column",11),e.TgZ(15,"ngx-datatable-column",12),e.YNc(16,Z,5,1,"ng-template",13),e.qZA(),e._UZ(17,"ngx-datatable-column",14)(18,"ngx-datatable-column",15)(19,"ngx-datatable-column",16),e.qZA()()()),2&t&&(e.xp6(4),e.Q6J("routerLink","/homeSections/add"),e.xp6(8),e.Q6J("scrollbarH",!0)("columnMode","force")("footerHeight",50)("rowHeight","auto")("limit",10)("rows",o.rowsFilter),e.xp6(2),e.Q6J("width",50),e.xp6(3),e.Q6J("width",180))},dependencies:[m.rH,d.nE,d.UC,d.vq]}),n})();var r=l(4719),g=l(5867),y=(l(2504),l(362)),S=l(2734);function C(n,c){1&n&&(e.TgZ(0,"div",18),e._uU(1," Name is required"),e.qZA())}function T(n,c){1&n&&e._UZ(0,"span",19)}function F(n,c){1&n&&(e.TgZ(0,"div",18),e._uU(1," Name is required"),e.qZA())}function x(n,c){1&n&&e._UZ(0,"span",19)}const D=[{path:"",component:H},{path:"list",component:H},{path:"add",component:(()=>{class n{constructor(t,o,s,i){this.validationService=o,this.homeSectionsService=s,this.router=i,this.saveLoading=!1,this.valForm=t.group({name:["",r.kI.required],isEnabled:[!0,r.kI.required]})}ngOnInit(){}addHomeSections(t,o){t.preventDefault();for(let s in this.valForm.controls)this.valForm.controls[s].markAsTouched();if(this.valForm.valid){let s={name:o.name,is_enabled:o.isEnabled,created_at:g.Z.firestore.FieldValue.serverTimestamp(),updated_at:g.Z.firestore.FieldValue.serverTimestamp()};this.homeSectionsService.addHomeSections(s).then(()=>{this.saveLoading=!1,this.validationService.sweetalertSuccess(),this.router.navigate(["/homeSections"])}).catch(i=>{this.saveLoading=!1})}else console.log("this.valForm",this.valForm)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(r.QS),e.Y36(y.R),e.Y36(v),e.Y36(m.F0))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-home-sections-add"]],decls:26,vars:4,consts:[[1,"content-heading"],[1,"d-flex","justify-content-between","w-100","align-items-center"],["type","button",1,"btn","btn-primary","d-flex","align-items-center",3,"routerLink"],["_ngcontent-lgi-c20","",1,"icon-arrow-left","mr-1"],[1,"row"],[1,"col-md-12"],[1,"card","card-default"],[1,"card-body"],["role","form",1,"form-validate",3,"formGroup","ngSubmit","keydown.enter","keydown.shift.enter"],["dataPost","ngForm"],[1,"form-row"],[1,"col-12","col-md-10"],["ngModel","","required","","formControlName","name","type","text","placeholder","Enter name",1,"form-control","with-focus"],["class","text-danger",4,"ngIf"],[1,"col-12","col-md-2"],["formControlName","isEnabled"],["type","submit",1,"btn","btn-sm","btn-info","mt-2"],["class","spinner-border spinner-border-sm ml-2",4,"ngIf"],[1,"text-danger"],[1,"spinner-border","spinner-border-sm","ml-2"]],template:function(t,o){if(1&t){const s=e.EpF();e.TgZ(0,"div",0)(1,"div",1)(2,"span"),e._uU(3,"Add In setions"),e.qZA(),e.TgZ(4,"button",2),e._UZ(5,"em",3),e._uU(6," Back "),e.qZA()()(),e.TgZ(7,"div",4)(8,"div",5)(9,"div",6)(10,"div",7)(11,"form",8,9),e.NdJ("ngSubmit",function(a){e.CHM(s);const b=e.MAs(12);return e.KtG(o.addHomeSections(a,b.value))})("keydown.enter",function(a){return a.preventDefault()})("keydown.shift.enter",function(a){return a.preventDefault()}),e.TgZ(13,"div",10)(14,"div",11)(15,"label"),e._uU(16,"In Sections"),e.qZA(),e._UZ(17,"input",12),e.YNc(18,C,2,0,"div",13),e.qZA(),e.TgZ(19,"div",14)(20,"label"),e._uU(21,"Active"),e.qZA(),e._UZ(22,"ui-switch",15),e.qZA()(),e.TgZ(23,"button",16),e._uU(24,"Save"),e.YNc(25,T,1,0,"span",17),e.qZA()()()()()()}2&t&&(e.xp6(4),e.Q6J("routerLink","/cities"),e.xp6(7),e.Q6J("formGroup",o.valForm),e.xp6(7),e.Q6J("ngIf",o.valForm.controls.name.hasError("required")&&(o.valForm.controls.name.dirty||o.valForm.controls.name.touched)),e.xp6(7),e.Q6J("ngIf",o.saveLoading))},dependencies:[p.O5,r._Y,r.Fj,r.JJ,r.JL,r.Q7,r.sg,r.u,m.rH,S.ob]}),n})()},{path:"edit/:id",component:(()=>{class n{constructor(t,o,s,i,a){this.validationService=o,this.homeSectionsService=s,this.router=i,this.route=a,this.saveLoading=!1,this.HomeSectionsData=[],this.valForm=t.group({name:["",r.kI.required],isEnabled:[!0,r.kI.required]})}ngOnInit(){this.id=this.route.snapshot.params.id,this.homeSectionsService.getHomeSectionsDetail(this.id).get().subscribe(t=>{this.HomeSectionsData=t.data()})}editHomeSections(t,o){t.preventDefault();for(let s in this.valForm.controls)this.valForm.controls[s].markAsTouched();if(this.valForm.valid){let s={name:o.name,is_enabled:o.isEnabled,updated_at:g.Z.firestore.FieldValue.serverTimestamp()};this.homeSectionsService.updateHomeSections(this.id,s).then(()=>{this.saveLoading=!1,this.validationService.sweetalertSuccess(),this.router.navigate(["/homeSections"])}).catch(i=>{this.saveLoading=!1})}else console.log("this.valForm",this.valForm)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(r.QS),e.Y36(y.R),e.Y36(v),e.Y36(m.F0),e.Y36(m.gz))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-home-sections-edit"]],decls:26,vars:6,consts:[[1,"content-heading"],[1,"d-flex","justify-content-between","w-100","align-items-center"],["type","button",1,"btn","btn-primary","d-flex","align-items-center",3,"routerLink"],["_ngcontent-lgi-c20","",1,"icon-arrow-left","mr-1"],[1,"row"],[1,"col-md-12"],[1,"card","card-default"],[1,"card-body"],["role","form",1,"form-validate",3,"formGroup","ngSubmit","keydown.enter","keydown.shift.enter"],["dataPost","ngForm"],[1,"form-row"],[1,"col-12","col-md-10"],["required","","formControlName","name","type","text","placeholder","Enter name",1,"form-control","with-focus",3,"ngModel","ngModelChange"],["class","text-danger",4,"ngIf"],[1,"col-12","col-md-2"],["formControlName","isEnabled",3,"ngModel","ngModelChange"],["type","submit",1,"btn","btn-sm","btn-info","mt-2"],["class","spinner-border spinner-border-sm ml-2",4,"ngIf"],[1,"text-danger"],[1,"spinner-border","spinner-border-sm","ml-2"]],template:function(t,o){if(1&t){const s=e.EpF();e.TgZ(0,"div",0)(1,"div",1)(2,"span"),e._uU(3,"Edit In setions"),e.qZA(),e.TgZ(4,"button",2),e._UZ(5,"em",3),e._uU(6," Back "),e.qZA()()(),e.TgZ(7,"div",4)(8,"div",5)(9,"div",6)(10,"div",7)(11,"form",8,9),e.NdJ("ngSubmit",function(a){e.CHM(s);const b=e.MAs(12);return e.KtG(o.editHomeSections(a,b.value))})("keydown.enter",function(a){return a.preventDefault()})("keydown.shift.enter",function(a){return a.preventDefault()}),e.TgZ(13,"div",10)(14,"div",11)(15,"label"),e._uU(16,"In Sections"),e.qZA(),e.TgZ(17,"input",12),e.NdJ("ngModelChange",function(a){return o.HomeSectionsData.name=a}),e.qZA(),e.YNc(18,F,2,0,"div",13),e.qZA(),e.TgZ(19,"div",14)(20,"label"),e._uU(21,"Active"),e.qZA(),e.TgZ(22,"ui-switch",15),e.NdJ("ngModelChange",function(a){return o.HomeSectionsData.is_enabled=a}),e.qZA()()(),e.TgZ(23,"button",16),e._uU(24,"Save"),e.YNc(25,x,1,0,"span",17),e.qZA()()()()()()}2&t&&(e.xp6(4),e.Q6J("routerLink","/homeSections"),e.xp6(7),e.Q6J("formGroup",o.valForm),e.xp6(6),e.Q6J("ngModel",o.HomeSectionsData.name),e.xp6(1),e.Q6J("ngIf",o.valForm.controls.name.hasError("required")&&(o.valForm.controls.name.dirty||o.valForm.controls.name.touched)),e.xp6(4),e.Q6J("ngModel",o.HomeSectionsData.is_enabled),e.xp6(3),e.Q6J("ngIf",o.saveLoading))},dependencies:[p.O5,r._Y,r.Fj,r.JJ,r.JL,r.Q7,r.sg,r.u,m.rH,S.ob]}),n})()}];let E=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[p.ez,u.m,m.Bz,d.xD,S.Su,m.Bz.forChild(D),m.Bz]}),n})()},362:(w,h,l)=>{l.d(h,{R:()=>m});var p=l(4650);const d=l(1373);let m=(()=>{class u{constructor(){}sweetalertError(f){d(f,"","error")}sweetalertSuccess(){d("Data saved successfully!","","success")}sweetalertUpdateSuccess(){d("Data updated successfully!","","success")}sweetalertFileUploadSuccess(){d("file uploaded successfully!","","success")}}return u.\u0275fac=function(f){return new(f||u)},u.\u0275prov=p.Yz7({token:u,factory:u.\u0275fac,providedIn:"root"}),u})()}}]);