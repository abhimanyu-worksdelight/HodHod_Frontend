"use strict";(self.webpackChunkng2angle=self.webpackChunkng2angle||[]).push([[102],{362:(lt,ue,m)=>{m.d(ue,{R:()=>X});var le=m(4650);const D=m(1373);let X=(()=>{class F{constructor(){}sweetalertError(B){D(B,"","error")}sweetalertSuccess(){D("Data saved successfully!","","success")}sweetalertUpdateSuccess(){D("Data updated successfully!","","success")}sweetalertFileUploadSuccess(){D("file uploaded successfully!","","success")}}return F.\u0275fac=function(B){return new(B||F)},F.\u0275prov=le.Yz7({token:F,factory:F.\u0275fac,providedIn:"root"}),F})()},398:(lt,ue,m)=>{m.d(ue,{Q1:()=>Te});var le=m(4202),D=m(1086),X=m(5254),F=m(13),ce=m(4850),B=m(2102),ke=m(7545),h=m(4650),I=m(9626),Ue=m(8801),fe=function(t,e){return(fe=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(r[o]=n[o])})(t,e)},de=function(){return de=Object.assign||function(e){for(var r,n=1,o=arguments.length;n<o;n++)for(var a in r=arguments[n])Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a]);return e},de.apply(this,arguments)};function x(t,e,r,n){return new(r||(r=Promise))(function(a,i){function u(c){try{s(n.next(c))}catch(d){i(d)}}function l(c){try{s(n.throw(c))}catch(d){i(d)}}function s(c){c.done?a(c.value):function o(a){return a instanceof r?a:new r(function(i){i(a)})}(c.value).then(u,l)}s((n=n.apply(t,e||[])).next())})}function C(t,e){var n,o,a,i,r={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(s){return function(c){return function l(s){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,o&&(a=2&s[0]?o.return:s[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,s[1])).done)return a;switch(o=0,a&&(s=[2&s[0],a.value]),s[0]){case 0:case 1:a=s;break;case 4:return r.label++,{value:s[1],done:!1};case 5:r.label++,o=s[1],s=[0];continue;case 7:s=r.ops.pop(),r.trys.pop();continue;default:if(!(a=(a=r.trys).length>0&&a[a.length-1])&&(6===s[0]||2===s[0])){r=0;continue}if(3===s[0]&&(!a||s[1]>a[0]&&s[1]<a[3])){r.label=s[1];break}if(6===s[0]&&r.label<a[1]){r.label=a[1],a=s;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(s);break}a[2]&&r.ops.pop(),r.trys.pop();continue}s=e.call(t,r)}catch(c){s=[6,c],o=0}finally{n=a=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}}function Ce(t,e,r){if(r||2===arguments.length)for(var a,n=0,o=e.length;n<o;n++)(a||!(n in e))&&(a||(a=Array.prototype.slice.call(e,0,n)),a[n]=e[n]);return t.concat(a||Array.prototype.slice.call(e))}var U=m(5060),ht=m(8034),Ee="firebasestorage.googleapis.com",Ae="storageBucket",_=function(t){function e(r,n){var o=t.call(this,he(r),"Firebase Storage: "+n+" ("+he(r)+")")||this;return o.customData={serverResponse:null},o._baseMessage=o.message,Object.setPrototypeOf(o,e.prototype),o}return function ct(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}fe(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}(e,t),e.prototype._codeEquals=function(r){return he(r)===this.code},Object.defineProperty(e.prototype,"serverResponse",{get:function(){return this.customData.serverResponse},set:function(r){this.customData.serverResponse=r,this.message=this.customData.serverResponse?this._baseMessage+"\n"+this.customData.serverResponse:this._baseMessage},enumerable:!1,configurable:!0}),e}(U.ZR);function he(t){return"storage/"+t}function pe(){return new _("unknown","An unknown error occurred, please check the error payload for server response.")}function Fe(){return new _("canceled","User canceled the upload/download.")}function Ie(){return new _("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function q(t){return new _("invalid-argument",t)}function Le(){return new _("app-deleted","The Firebase app was deleted.")}function Me(t){return new _("invalid-root-operation","The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function $(t,e){return new _("invalid-format","String does not match format '"+t+"': "+e)}function J(t){throw new _("internal-error","Internal error: "+t)}var S={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},ge=function t(e,r){this.data=e,this.contentType=r||null};function je(t,e){switch(t){case S.RAW:return new ge(De(e));case S.BASE64:case S.BASE64URL:return new ge(Be(t,e));case S.DATA_URL:return new ge(function xt(t){var e=new qe(t);return e.base64?Be(S.BASE64,e.rest):function Ot(t){var e;try{e=decodeURIComponent(t)}catch{throw $(S.DATA_URL,"Malformed data URL.")}return De(e)}(e.rest)}(e),function Ct(t){return new qe(t).contentType}(e))}throw pe()}function De(t){for(var e=[],r=0;r<t.length;r++){var n=t.charCodeAt(r);if(n<=127)e.push(n);else if(n<=2047)e.push(192|n>>6,128|63&n);else if(55296==(64512&n))if(r<t.length-1&&56320==(64512&t.charCodeAt(r+1))){var a=n,i=t.charCodeAt(++r);e.push(240|(n=65536|(1023&a)<<10|1023&i)>>18,128|n>>12&63,128|n>>6&63,128|63&n)}else e.push(239,191,189);else 56320==(64512&n)?e.push(239,191,189):e.push(224|n>>12,128|n>>6&63,128|63&n)}return new Uint8Array(e)}function Be(t,e){switch(t){case S.BASE64:var r=-1!==e.indexOf("-"),n=-1!==e.indexOf("_");if(r||n)throw $(t,"Invalid character '"+(r?"-":"_")+"' found: is it base64url encoded?");break;case S.BASE64URL:var a=-1!==e.indexOf("+"),i=-1!==e.indexOf("/");if(a||i)throw $(t,"Invalid character '"+(a?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/")}var u;try{u=function Ut(t){return atob(t)}(e)}catch{throw $(t,"Invalid character found")}for(var l=new Uint8Array(u.length),s=0;s<u.length;s++)l[s]=u.charCodeAt(s);return l}var qe=function t(e){this.base64=!1,this.contentType=null;var r=e.match(/^data:([^,]+)?,/);if(null===r)throw $(S.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var n=r[1]||null;null!=n&&(this.base64=function Et(t,e){return t.length>=e.length&&t.substring(t.length-e.length)===e}(n,";base64"),this.contentType=this.base64?n.substring(0,n.length-7):n),this.rest=e.substring(e.indexOf(",")+1)},At={STATE_CHANGED:"state_changed"},y={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function _e(t){switch(t){case"running":case"pausing":case"canceling":return y.RUNNING;case"paused":return y.PAUSED;case"success":return y.SUCCESS;case"canceled":return y.CANCELED;default:return y.ERROR}}var L=(()=>{return(t=L||(L={}))[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT",L;var t})(),Ft=function(){function t(){var e=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=L.NO_ERROR,this.sendPromise_=new Promise(function(r){e.xhr_.addEventListener("abort",function(){e.errorCode_=L.ABORT,r()}),e.xhr_.addEventListener("error",function(){e.errorCode_=L.NETWORK_ERROR,r()}),e.xhr_.addEventListener("load",function(){r()})})}return t.prototype.send=function(e,r,n,o){if(this.sent_)throw J("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(r,e,!0),void 0!==o)for(var a in o)o.hasOwnProperty(a)&&this.xhr_.setRequestHeader(a,o[a].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_},t.prototype.getErrorCode=function(){if(!this.sent_)throw J("cannot .getErrorCode() before sending");return this.errorCode_},t.prototype.getStatus=function(){if(!this.sent_)throw J("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}},t.prototype.getResponseText=function(){if(!this.sent_)throw J("cannot .getResponseText() before sending");return this.xhr_.responseText},t.prototype.abort=function(){this.xhr_.abort()},t.prototype.getResponseHeader=function(e){return this.xhr_.getResponseHeader(e)},t.prototype.addUploadProgressListener=function(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)},t.prototype.removeUploadProgressListener=function(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)},t}(),Lt=function(){function t(){}return t.prototype.createConnection=function(){return function It(){return new Ft}()},t}(),T=function(){function t(e,r){this.bucket=e,this.path_=r}return Object.defineProperty(t.prototype,"path",{get:function(){return this.path_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isRoot",{get:function(){return 0===this.path.length},enumerable:!1,configurable:!0}),t.prototype.fullServerUrl=function(){var e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)},t.prototype.bucketOnlyServerUrl=function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"},t.makeFromBucketSpec=function(e,r){var n;try{n=t.makeFromUrl(e,r)}catch{return new t(e,"")}if(""===n.path)return n;throw function St(t){return new _("invalid-default-bucket","Invalid default bucket '"+t+"'.")}(e)},t.makeFromUrl=function(e,r){var n=null,o="([A-Za-z0-9.\\-_]+)",u=new RegExp("^gs://"+o+"(/(.*))?$","i");function s(k){k.path_=decodeURIComponent(k.path)}for(var d=r.replace(/[.]/g,"\\."),P=[{regex:u,indices:{bucket:1,path:3},postModify:function a(k){"/"===k.path.charAt(k.path.length-1)&&(k.path_=k.path_.slice(0,-1))}},{regex:new RegExp("^https?://"+d+"/v[A-Za-z0-9_]+/b/"+o+"/o(/([^?#]*).*)?$","i"),indices:{bucket:1,path:3},postModify:s},{regex:new RegExp("^https?://"+(r===Ee?"(?:storage.googleapis.com|storage.cloud.google.com)":r)+"/"+o+"/([^?#]*)","i"),indices:{bucket:1,path:2},postModify:s}],A=0;A<P.length;A++){var H=P[A],z=H.regex.exec(e);if(z){var Y=z[H.indices.path];Y||(Y=""),n=new t(z[H.indices.bucket],Y),H.postModify(n);break}}if(null==n)throw function Rt(t){return new _("invalid-url","Invalid URL '"+t+"'.")}(e);return n},t}(),Mt=function(){function t(e){this.promise_=Promise.reject(e)}return t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(e){},t}();function V(t){return"string"==typeof t||t instanceof String}function Ge(t){return ve()&&t instanceof Blob}function ve(){return typeof Blob<"u"}function me(t,e,r,n){if(n<e)throw q("Invalid value for '"+t+"'. Expected "+e+" or greater.");if(n>r)throw q("Invalid value for '"+t+"'. Expected "+r+" or less.")}function M(t,e){var n=e.match(/^(\w+):\/\/.+/)?.[1],o=e;return null==n&&(o="https://"+e),o+"/v0"+t}function Ne(t){var e=encodeURIComponent,r="?";for(var n in t)t.hasOwnProperty(n)&&(r=r+(e(n)+"=")+e(t[n])+"&");return r.slice(0,-1)}var Nt=function(){function t(e,r,n,o,a,i,u,l,s,c,d){var f=this;this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=e,this.method_=r,this.headers_=n,this.body_=o,this.successCodes_=a.slice(),this.additionalRetryCodes_=i.slice(),this.callback_=u,this.errorCallback_=l,this.progressCallback_=c,this.timeout_=s,this.pool_=d,this.promise_=new Promise(function(g,p){f.resolve_=g,f.reject_=p,f.start_()})}return t.prototype.start_=function(){var e=this;function n(o,a){var i=e.resolve_,u=e.reject_,l=a.connection;if(a.wasSuccessCode)try{var s=e.callback_(l,l.getResponseText());!function Bt(t){return void 0!==t}(s)?i():i(s)}catch(d){u(d)}else if(null!==l)(c=pe()).serverResponse=l.getResponseText(),u(e.errorCallback_?e.errorCallback_(l,c):c);else if(a.canceled)u(c=e.appDelete_?Le():Fe());else{var c;u(c=function wt(){return new _("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}())}}this.canceled_?n(0,new Z(!1,null,!0)):this.backoffId_=function jt(t,e,r){var n=1,o=null,a=!1,i=0;function u(){return 2===i}var l=!1;function s(){for(var p=[],v=0;v<arguments.length;v++)p[v]=arguments[v];l||(l=!0,e.apply(null,p))}function c(p){o=setTimeout(function(){o=null,t(d,u())},p)}function d(p){for(var v=[],w=1;w<arguments.length;w++)v[w-1]=arguments[w];if(!l){if(p)return void s.call.apply(s,Ce([null,p],v));var R;if(u()||a)return void s.call.apply(s,Ce([null,p],v));n<64&&(n*=2),1===i?(i=2,R=0):R=1e3*(n+Math.random()),c(R)}}var f=!1;function g(p){f||(f=!0,!l&&(null!==o?(p||(i=2),clearTimeout(o),c(0)):p||(i=1)))}return c(0),setTimeout(function(){a=!0,g(!0)},r),g}(function r(o,a){if(a)o(!1,new Z(!1,null,!0));else{var i=e.pool_.createConnection();e.pendingConnection_=i,null!==e.progressCallback_&&i.addUploadProgressListener(u),i.send(e.url_,e.method_,e.body_,e.headers_).then(function(){null!==e.progressCallback_&&i.removeUploadProgressListener(u),e.pendingConnection_=null;var l=i.getErrorCode()===L.NO_ERROR,s=i.getStatus();if(l&&!e.isRetryStatusCode_(s)){var d=-1!==e.successCodes_.indexOf(s);o(!0,new Z(d,i))}else{var c=i.getErrorCode()===L.ABORT;o(!1,new Z(!1,null,c))}})}function u(l){null!==e.progressCallback_&&e.progressCallback_(l.loaded,l.lengthComputable?l.total:-1)}},n,this.timeout_)},t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function Dt(t){t(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()},t.prototype.isRetryStatusCode_=function(e){var r=e>=500&&e<600,o=-1!==[408,429].indexOf(e),a=-1!==this.additionalRetryCodes_.indexOf(e);return r||o||a},t}(),Z=function t(e,r,n){this.wasSuccessCode=e,this.connection=r,this.canceled=!!n};function Yt(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function Kt(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=Yt();if(void 0!==r){for(var n=new r,o=0;o<t.length;o++)n.append(t[o]);return n.getBlob()}if(ve())return new Blob(t);throw new _("unsupported-environment","This browser doesn't seem to support creating Blobs")}var ye=function(){function t(e,r){var n=0,o="";Ge(e)?(this.data_=e,n=e.size,o=e.type):e instanceof ArrayBuffer?(r?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),n=this.data_.length):e instanceof Uint8Array&&(r?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),n=e.length),this.size_=n,this.type_=o}return t.prototype.size=function(){return this.size_},t.prototype.type=function(){return this.type_},t.prototype.slice=function(e,r){if(Ge(this.data_)){var o=function Jt(t,e,r){return t.webkitSlice?t.webkitSlice(e,r):t.mozSlice?t.mozSlice(e,r):t.slice?t.slice(e,r):null}(this.data_,e,r);return null===o?null:new t(o)}return new t(new Uint8Array(this.data_.buffer,e,r-e),!0)},t.getBlob=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];if(ve()){var n=e.map(function(l){return l instanceof t?l.data_:l});return new t(Kt.apply(null,n))}var o=e.map(function(l){return V(l)?je(S.RAW,l).data:l.data_}),a=0;o.forEach(function(l){a+=l.byteLength});var i=new Uint8Array(a),u=0;return o.forEach(function(l){for(var s=0;s<l.length;s++)i[u++]=l[s]}),new t(i,!0)},t.prototype.uploadData=function(){return this.data_},t}();function be(t){var e;try{e=JSON.parse(t)}catch{return null}return function Gt(t){return"object"==typeof t&&!Array.isArray(t)}(e)?e:null}function He(t){var e=t.lastIndexOf("/",t.length-2);return-1===e?t:t.slice(e+1)}function Qt(t,e){return e}var b=function t(e,r,n,o){this.server=e,this.local=r||e,this.writable=!!n,this.xform=o||Qt},Q=null;function ee(){if(Q)return Q;var t=[];t.push(new b("bucket")),t.push(new b("generation")),t.push(new b("metageneration")),t.push(new b("name","fullPath",!0));var r=new b("name");r.xform=function e(a,i){return function er(t){return!V(t)||t.length<2?t:He(t)}(i)},t.push(r);var o=new b("size");return o.xform=function n(a,i){return void 0!==i?Number(i):i},t.push(o),t.push(new b("timeCreated")),t.push(new b("updated")),t.push(new b("md5Hash",null,!0)),t.push(new b("cacheControl",null,!0)),t.push(new b("contentDisposition",null,!0)),t.push(new b("contentEncoding",null,!0)),t.push(new b("contentLanguage",null,!0)),t.push(new b("contentType",null,!0)),t.push(new b("metadata","customMetadata",!0)),Q=t}function ze(t,e,r){var n=be(e);return null===n?null:function rr(t,e,r){for(var n={type:"file"},o=r.length,a=0;a<o;a++){var i=r[a];n[i.local]=i.xform(n,e[i.server])}return function tr(t,e){Object.defineProperty(t,"ref",{get:function r(){var a=new T(t.bucket,t.fullPath);return e._makeStorageReference(a)}})}(n,t),n}(t,n,r)}function we(t,e){for(var r={},n=e.length,o=0;o<n;o++){var a=e[o];a.writable&&(r[a.server]=t[a.local])}return JSON.stringify(r)}var Xe="prefixes";var E=function t(e,r,n,o){this.url=e,this.method=r,this.handler=n,this.timeout=o,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]};function O(t){if(!t)throw pe()}function te(t,e){return function r(n,o){var a=ze(t,o,e);return O(null!==a),a}}function G(t){return function e(r,n){var o;return o=401===r.getStatus()?r.getResponseText().includes("Firebase App Check token is invalid")?function yt(){return new _("unauthorized-app","This app does not have permission to access Firebase Storage on this project.")}():function mt(){return new _("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===r.getStatus()?function vt(t){return new _("quota-exceeded","Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(t.bucket):403===r.getStatus()?function bt(t){return new _("unauthorized","User does not have permission to access '"+t+"'.")}(t.path):n,o.serverResponse=n.serverResponse,o}}function re(t){var e=G(t);return function r(n,o){var a=e(n,o);return 404===n.getStatus()&&(a=function _t(t){return new _("object-not-found","Object '"+t+"' does not exist.")}(t.path)),a.serverResponse=o.serverResponse,a}}function We(t,e,r){var o=M(e.fullServerUrl(),t.host),i=t.maxOperationRetryTime,u=new E(o,"GET",te(t,r),i);return u.errorHandler=re(e),u}function ur(t,e,r,n,o){var a={};a.prefix=e.isRoot?"":e.path+"/",r&&r.length>0&&(a.delimiter=r),n&&(a.pageToken=n),o&&(a.maxResults=o);var u=M(e.bucketOnlyServerUrl(),t.host),s=t.maxOperationRetryTime,c=new E(u,"GET",function ir(t,e){return function r(n,o){var a=function ar(t,e,r){var n=be(r);return null===n?null:function or(t,e,r){var n={prefixes:[],items:[],nextPageToken:r.nextPageToken};if(r[Xe])for(var o=0,a=r[Xe];o<a.length;o++){var u=a[o].replace(/\/$/,""),l=t._makeStorageReference(new T(e,u));n.prefixes.push(l)}if(r.items)for(var s=0,c=r.items;s<c.length;s++)l=t._makeStorageReference(new T(e,c[s].name)),n.items.push(l);return n}(t,e,n)}(t,e,o);return O(null!==a),a}}(t,e.bucket),s);return c.urlParams=a,c.errorHandler=G(e),c}function Ye(t,e,r){var n=Object.assign({},r);return n.fullPath=t.path,n.size=e.size(),n.contentType||(n.contentType=function dr(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}(null,e)),n}var ne=function t(e,r,n,o){this.current=e,this.total=r,this.finalized=!!n,this.metadata=o||null};function Re(t,e){var r=null;try{r=t.getResponseHeader("X-Goog-Upload-Status")}catch{O(!1)}return O(!!r&&-1!==(e||["active"]).indexOf(r)),r}var vr=function t(e,r,n){var o=function qt(t){return"function"==typeof t}(e)||null!=r||null!=n;if(o)this.next=e,this.error=r,this.complete=n;else{var a=e;this.next=a.next,this.error=a.error,this.complete=a.complete}};function N(t){return function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];Promise.resolve().then(function(){return t.apply(void 0,e)})}}var Je=function(){function t(e,r,n){var o=this;void 0===n&&(n=null),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=r,this._metadata=n,this._mappings=ee(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(a){o._request=void 0,o._chunkMultiplier=1,a._codeEquals("canceled")?(o._needToFetchStatus=!0,o.completeTransitions_()):(o._error=a,o._transition("error"))},this._metadataErrorHandler=function(a){o._request=void 0,a._codeEquals("canceled")?o.completeTransitions_():(o._error=a,o._transition("error"))},this._promise=new Promise(function(a,i){o._resolve=a,o._reject=i,o._start()}),this._promise.then(null,function(){})}return t.prototype._makeProgressCallback=function(){var e=this,r=this._transferred;return function(n){return e._updateProgress(r+n)}},t.prototype._shouldDoResumable=function(e){return e.size()>262144},t.prototype._start=function(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())},t.prototype._resolveToken=function(e){var r=this;Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(function(n){var o=n[0],a=n[1];switch(r._state){case"running":e(o,a);break;case"canceling":r._transition("canceled");break;case"pausing":r._transition("paused")}})},t.prototype._createResumable=function(){var e=this;this._resolveToken(function(r,n){var o=function pr(t,e,r,n,o){var a=e.bucketOnlyServerUrl(),i=Ye(e,n,o),u={name:i.fullPath},l=M(a,t.host),c={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":""+n.size(),"X-Goog-Upload-Header-Content-Type":i.contentType,"Content-Type":"application/json; charset=utf-8"},d=we(i,r),p=new E(l,"POST",function g(v){var w;Re(v);try{w=v.getResponseHeader("X-Goog-Upload-URL")}catch{O(!1)}return O(V(w)),w},t.maxUploadRetryTime);return p.urlParams=u,p.headers=c,p.body=d,p.errorHandler=G(e),p}(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),a=e._ref.storage._makeRequest(o,r,n);e._request=a,a.getPromise().then(function(i){e._request=void 0,e._uploadUrl=i,e._needToFetchStatus=!1,e.completeTransitions_()},e._errorHandler)})},t.prototype._fetchStatus=function(){var e=this,r=this._uploadUrl;this._resolveToken(function(n,o){var a=function gr(t,e,r,n){var l=new E(r,"POST",function a(s){var c=Re(s,["active","final"]),d=null;try{d=s.getResponseHeader("X-Goog-Upload-Size-Received")}catch{O(!1)}d||O(!1);var f=Number(d);return O(!isNaN(f)),new ne(f,n.size(),"final"===c)},t.maxUploadRetryTime);return l.headers={"X-Goog-Upload-Command":"query"},l.errorHandler=G(e),l}(e._ref.storage,e._ref._location,r,e._blob),i=e._ref.storage._makeRequest(a,n,o);e._request=i,i.getPromise().then(function(u){e._request=void 0,e._updateProgress(u.current),e._needToFetchStatus=!1,u.finalized&&(e._needToFetchMetadata=!0),e.completeTransitions_()},e._errorHandler)})},t.prototype._continueUpload=function(){var e=this,r=262144*this._chunkMultiplier,n=new ne(this._transferred,this._blob.size()),o=this._uploadUrl;this._resolveToken(function(a,i){var u;try{u=function _r(t,e,r,n,o,a,i,u){var l=new ne(0,0);if(i?(l.current=i.current,l.total=i.total):(l.current=0,l.total=n.size()),n.size()!==l.total)throw function Pt(){return new _("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.")}();var s=l.total-l.current,c=s;o>0&&(c=Math.min(c,o));var d=l.current,p={"X-Goog-Upload-Command":c===s?"upload, finalize":"upload","X-Goog-Upload-Offset":""+l.current},v=n.slice(d,d+c);if(null===v)throw Ie();var P=new E(r,"POST",function w(A,H){var k,z=Re(A,["active","final"]),Pe=l.current+c,Y=n.size();return k="final"===z?te(e,a)(A,H):null,new ne(Pe,Y,"final"===z,k)},e.maxUploadRetryTime);return P.headers=p,P.body=v.uploadData(),P.progressCallback=u||null,P.errorHandler=G(t),P}(e._ref._location,e._ref.storage,o,e._blob,r,e._mappings,n,e._makeProgressCallback())}catch(s){return e._error=s,void e._transition("error")}var l=e._ref.storage._makeRequest(u,a,i);e._request=l,l.getPromise().then(function(s){e._increaseMultiplier(),e._request=void 0,e._updateProgress(s.current),s.finalized?(e._metadata=s.metadata,e._transition("success")):e.completeTransitions_()},e._errorHandler)})},t.prototype._increaseMultiplier=function(){262144*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)},t.prototype._fetchMetadata=function(){var e=this;this._resolveToken(function(r,n){var o=We(e._ref.storage,e._ref._location,e._mappings),a=e._ref.storage._makeRequest(o,r,n);e._request=a,a.getPromise().then(function(i){e._request=void 0,e._metadata=i,e._transition("success")},e._metadataErrorHandler)})},t.prototype._oneShotUpload=function(){var e=this;this._resolveToken(function(r,n){var o=function hr(t,e,r,n,o){var a=e.bucketOnlyServerUrl(),i={"X-Goog-Upload-Protocol":"multipart"},l=function u(){for(var P="",A=0;A<2;A++)P+=Math.random().toString().slice(2);return P}();i["Content-Type"]="multipart/related; boundary="+l;var s=Ye(e,n,o),c=we(s,r),g=ye.getBlob("--"+l+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+c+"\r\n--"+l+"\r\nContent-Type: "+s.contentType+"\r\n\r\n",n,"\r\n--"+l+"--");if(null===g)throw Ie();var p={name:s.fullPath},v=M(a,t.host),j=t.maxUploadRetryTime,R=new E(v,"POST",te(t,r),j);return R.urlParams=p,R.headers=i,R.body=g.uploadData(),R.errorHandler=G(e),R}(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),a=e._ref.storage._makeRequest(o,r,n);e._request=a,a.getPromise().then(function(i){e._request=void 0,e._metadata=i,e._updateProgress(e._blob.size()),e._transition("success")},e._errorHandler)})},t.prototype._updateProgress=function(e){var r=this._transferred;this._transferred=e,this._transferred!==r&&this._notifyObservers()},t.prototype._transition=function(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request&&this._request.cancel();break;case"running":var r="paused"===this._state;this._state=e,r&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=Fe(),this._state=e,this._notifyObservers()}},t.prototype.completeTransitions_=function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}},Object.defineProperty(t.prototype,"snapshot",{get:function(){var e=_e(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}},enumerable:!1,configurable:!0}),t.prototype.on=function(e,r,n,o){var a=this,i=new vr(r,n,o);return this._addObserver(i),function(){a._removeObserver(i)}},t.prototype.then=function(e,r){return this._promise.then(e,r)},t.prototype.catch=function(e){return this.then(null,e)},t.prototype._addObserver=function(e){this._observers.push(e),this._notifyObserver(e)},t.prototype._removeObserver=function(e){var r=this._observers.indexOf(e);-1!==r&&this._observers.splice(r,1)},t.prototype._notifyObservers=function(){var e=this;this._finishPromise(),this._observers.slice().forEach(function(n){e._notifyObserver(n)})},t.prototype._finishPromise=function(){if(void 0!==this._resolve){var e=!0;switch(_e(this._state)){case y.SUCCESS:N(this._resolve.bind(null,this.snapshot))();break;case y.CANCELED:case y.ERROR:N(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}},t.prototype._notifyObserver=function(e){switch(_e(this._state)){case y.RUNNING:case y.PAUSED:e.next&&N(e.next.bind(e,this.snapshot))();break;case y.SUCCESS:e.complete&&N(e.complete.bind(e))();break;default:e.error&&N(e.error.bind(e,this._error))()}},t.prototype.resume=function(){var e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e},t.prototype.pause=function(){var e="running"===this._state;return e&&this._transition("pausing"),e},t.prototype.cancel=function(){var e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e},t}(),oe=function(){function t(e,r){this._service=e,this._location=r instanceof T?r:T.makeFromUrl(r,e.host)}return t.prototype.toString=function(){return"gs://"+this._location.bucket+"/"+this._location.path},t.prototype._newRef=function(e,r){return new t(e,r)},Object.defineProperty(t.prototype,"root",{get:function(){var e=new T(this._location.bucket,"");return this._newRef(this._service,e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bucket",{get:function(){return this._location.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fullPath",{get:function(){return this._location.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return He(this._location.path)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"storage",{get:function(){return this._service},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=function Vt(t){if(0===t.length)return null;var e=t.lastIndexOf("/");return-1===e?"":t.slice(0,e)}(this._location.path);if(null===e)return null;var r=new T(this._location.bucket,e);return new t(this._service,r)},enumerable:!1,configurable:!0}),t.prototype._throwIfRoot=function(e){if(""===this._location.path)throw Me(e)},t}();function yr(t){var e={prefixes:[],items:[]};return Ve(t,e).then(function(){return e})}function Ve(t,e,r){return x(this,void 0,void 0,function(){var o,a,i;return C(this,function(u){switch(u.label){case 0:return[4,Ze(t,{pageToken:r})];case 1:return o=u.sent(),(a=e.prefixes).push.apply(a,o.prefixes),(i=e.items).push.apply(i,o.items),null==o.nextPageToken?[3,3]:[4,Ve(t,e,o.nextPageToken)];case 2:u.sent(),u.label=3;case 3:return[2]}})})}function Ze(t,e){return x(this,void 0,void 0,function(){var r,n;return C(this,function(o){switch(o.label){case 0:return null!=e&&"number"==typeof e.maxResults&&me("options.maxResults",1,1e3,e.maxResults),n=ur(t.storage,t._location,"/",(r=e||{}).pageToken,r.maxResults),[4,t.storage.makeRequestWithTokens(n)];case 1:return[2,o.sent().getPromise()]}})})}function Rr(t){return x(this,void 0,void 0,function(){var e;return C(this,function(r){switch(r.label){case 0:return t._throwIfRoot("getDownloadURL"),e=function lr(t,e,r){var o=M(e.fullServerUrl(),t.host),i=t.maxOperationRetryTime,u=new E(o,"GET",function sr(t,e){return function r(n,o){var a=ze(t,o,e);return O(null!==a),function nr(t,e,r){var n=be(e);if(null===n||!V(n.downloadTokens))return null;var o=n.downloadTokens;if(0===o.length)return null;var a=encodeURIComponent;return o.split(",").map(function(l){var c=t.fullPath;return M("/b/"+a(t.bucket)+"/o/"+a(c),r)+Ne({alt:"media",token:l})})[0]}(a,o,t.host)}}(t,r),i);return u.errorHandler=re(e),u}(t.storage,t._location,ee()),[4,t.storage.makeRequestWithTokens(e)];case 1:return[2,r.sent().getPromise().then(function(n){if(null===n)throw function kt(){return new _("no-download-url","The given file does not have any download URLs.")}();return n})]}})})}function Qe(t,e){var r=function Zt(t,e){var r=e.split("/").filter(function(n){return n.length>0}).join("/");return 0===t.length?r:t+"/"+r}(t._location.path,e),n=new T(t._location.bucket,r);return new oe(t.storage,n)}function Se(t){return/^[A-Za-z]+:\/\//.test(t)}function et(t,e){if(t instanceof ae){var r=t;if(null==r._bucket)throw function Tt(){return new _("no-default-bucket","No default bucket found. Did you set the '"+Ae+"' property when initializing the app?")}();var n=new oe(r,r._bucket);return null!=e?et(n,e):n}return void 0!==e?Qe(t,e):t}function Pr(t,e){if(e&&Se(e)){if(t instanceof ae)return function Tr(t,e){return new oe(t,e)}(t,e);throw q("To use ref(service, url), the first argument must be a Storage instance.")}return et(t,e)}function tt(t,e){var r=e?.[Ae];return null==r?null:T.makeFromBucketSpec(r,t)}var ae=function(){function t(e,r,n,o,a,i){this.app=e,this._authProvider=r,this._appCheckProvider=n,this._pool=o,this._url=a,this._firebaseVersion=i,this._bucket=null,this._host=Ee,this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=a?T.makeFromBucketSpec(a,this._host):tt(this._host,this.app.options)}return Object.defineProperty(t.prototype,"host",{get:function(){return this._host},set:function(e){this._host=e,this._bucket=null!=this._url?T.makeFromBucketSpec(this._url,e):tt(e,this.app.options)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxUploadRetryTime",{get:function(){return this._maxUploadRetryTime},set:function(e){me("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxOperationRetryTime",{get:function(){return this._maxOperationRetryTime},set:function(e){me("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e},enumerable:!1,configurable:!0}),t.prototype._getAuthToken=function(){return x(this,void 0,void 0,function(){var e,r;return C(this,function(n){switch(n.label){case 0:return this._overrideAuthToken?[2,this._overrideAuthToken]:(e=this._authProvider.getImmediate({optional:!0}))?[4,e.getToken()]:[3,2];case 1:if(null!==(r=n.sent()))return[2,r.accessToken];n.label=2;case 2:return[2,null]}})})},t.prototype._getAppCheckToken=function(){return x(this,void 0,void 0,function(){var e;return C(this,function(n){switch(n.label){case 0:return(e=this._appCheckProvider.getImmediate({optional:!0}))?[4,e.getToken()]:[3,2];case 1:return[2,n.sent().token];case 2:return[2,null]}})})},t.prototype._delete=function(){return this._deleted||(this._deleted=!0,this._requests.forEach(function(e){return e.cancel()}),this._requests.clear()),Promise.resolve()},t.prototype._makeStorageReference=function(e){return new oe(this,e)},t.prototype._makeRequest=function(e,r,n){var o=this;if(this._deleted)return new Mt(Le());var a=function Wt(t,e,r,n,o,a){var i=Ne(t.urlParams),u=t.url+i,l=Object.assign({},t.headers);return function Xt(t,e){e&&(t["X-Firebase-GMPID"]=e)}(l,e),function Ht(t,e){null!==e&&e.length>0&&(t.Authorization="Firebase "+e)}(l,r),function zt(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}(l,a),function $t(t,e){null!==e&&(t["X-Firebase-AppCheck"]=e)}(l,n),new Nt(u,t.method,l,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,o)}(e,this._appId,r,n,this._pool,this._firebaseVersion);return this._requests.add(a),a.getPromise().then(function(){return o._requests.delete(a)},function(){return o._requests.delete(a)}),a},t.prototype.makeRequestWithTokens=function(e){return x(this,void 0,void 0,function(){var r;return C(this,function(a){switch(a.label){case 0:return[4,Promise.all([this._getAuthToken(),this._getAppCheckToken()])];case 1:return r=a.sent(),[2,this._makeRequest(e,r[0],r[1])]}})})},t}();function rt(t,e){return Pr(t=(0,U.m9)(t),e)}var ie=function(){function t(e,r,n){this._delegate=e,this.task=r,this.ref=n}return Object.defineProperty(t.prototype,"bytesTransferred",{get:function(){return this._delegate.bytesTransferred},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"state",{get:function(){return this._delegate.state},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"totalBytes",{get:function(){return this._delegate.totalBytes},enumerable:!1,configurable:!0}),t}(),nt=function(){function t(e,r){this._delegate=e,this._ref=r,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}return Object.defineProperty(t.prototype,"snapshot",{get:function(){return new ie(this._delegate.snapshot,this,this._ref)},enumerable:!1,configurable:!0}),t.prototype.then=function(e,r){var n=this;return this._delegate.then(function(o){if(e)return e(new ie(o,n,n._ref))},r)},t.prototype.on=function(e,r,n,o){var a=this,i=void 0;return r&&(i="function"==typeof r?function(u){return r(new ie(u,a,a._ref))}:{next:r.next?function(u){return r.next(new ie(u,a,a._ref))}:void 0,complete:r.complete||void 0,error:r.error||void 0}),this._delegate.on(e,i,n||void 0,o||void 0)},t}(),ot=function(){function t(e,r){this._delegate=e,this._service=r}return Object.defineProperty(t.prototype,"prefixes",{get:function(){var e=this;return this._delegate.prefixes.map(function(r){return new W(r,e._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"items",{get:function(){var e=this;return this._delegate.items.map(function(r){return new W(r,e._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"nextPageToken",{get:function(){return this._delegate.nextPageToken||null},enumerable:!1,configurable:!0}),t}(),W=function(){function t(e,r){this._delegate=e,this.storage=r}return Object.defineProperty(t.prototype,"name",{get:function(){return this._delegate.name},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bucket",{get:function(){return this._delegate.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fullPath",{get:function(){return this._delegate.fullPath},enumerable:!1,configurable:!0}),t.prototype.toString=function(){return this._delegate.toString()},t.prototype.child=function(e){var r=function Ir(t,e){return Qe(t,e)}(this._delegate,e);return new t(r,this.storage)},Object.defineProperty(t.prototype,"root",{get:function(){return new t(this._delegate.root,this.storage)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=this._delegate.parent;return null==e?null:new t(e,this.storage)},enumerable:!1,configurable:!0}),t.prototype.put=function(e,r){return this._throwIfRoot("put"),new nt(function Ur(t,e,r){return function mr(t,e,r){return t._throwIfRoot("uploadBytesResumable"),new Je(t,new ye(e),r)}(t=(0,U.m9)(t),e,r)}(this._delegate,e,r),this)},t.prototype.putString=function(e,r,n){void 0===r&&(r=S.RAW),this._throwIfRoot("putString");var o=je(r,e),a=de({},n);return null==a.contentType&&null!=o.contentType&&(a.contentType=o.contentType),new nt(new Je(this._delegate,new ye(o.data,!0),a),this)},t.prototype.listAll=function(){var e=this;return function Er(t){return yr(t=(0,U.m9)(t))}(this._delegate).then(function(r){return new ot(r,e.storage)})},t.prototype.list=function(e){var r=this;return function Cr(t,e){return Ze(t=(0,U.m9)(t),e)}(this._delegate,e||void 0).then(function(n){return new ot(n,r.storage)})},t.prototype.getMetadata=function(){return function Or(t){return function br(t){return x(this,void 0,void 0,function(){var e;return C(this,function(r){switch(r.label){case 0:return t._throwIfRoot("getMetadata"),e=We(t.storage,t._location,ee()),[4,t.storage.makeRequestWithTokens(e)];case 1:return[2,r.sent().getPromise()]}})})}(t=(0,U.m9)(t))}(this._delegate)},t.prototype.updateMetadata=function(e){return function xr(t,e){return function wr(t,e){return x(this,void 0,void 0,function(){var r;return C(this,function(n){switch(n.label){case 0:return t._throwIfRoot("updateMetadata"),r=function cr(t,e,r,n){var a=M(e.fullServerUrl(),t.host),u=we(r,n),s=t.maxOperationRetryTime,c=new E(a,"PATCH",te(t,n),s);return c.headers={"Content-Type":"application/json; charset=utf-8"},c.body=u,c.errorHandler=re(e),c}(t.storage,t._location,e,ee()),[4,t.storage.makeRequestWithTokens(r)];case 1:return[2,n.sent().getPromise()]}})})}(t=(0,U.m9)(t),e)}(this._delegate,e)},t.prototype.getDownloadURL=function(){return function Ar(t){return Rr(t=(0,U.m9)(t))}(this._delegate)},t.prototype.delete=function(){return this._throwIfRoot("delete"),function Fr(t){return function Sr(t){return x(this,void 0,void 0,function(){var e;return C(this,function(r){switch(r.label){case 0:return t._throwIfRoot("deleteObject"),e=function fr(t,e){var n=M(e.fullServerUrl(),t.host),u=new E(n,"DELETE",function i(l,s){},t.maxOperationRetryTime);return u.successCodes=[200,204],u.errorHandler=re(e),u}(t.storage,t._location),[4,t.storage.makeRequestWithTokens(e)];case 1:return[2,r.sent().getPromise()]}})})}(t=(0,U.m9)(t))}(this._delegate)},t.prototype._throwIfRoot=function(e){if(""===this._delegate._location.path)throw Me(e)},t}(),Mr=function(){function t(e,r){this.app=e,this._delegate=r}return Object.defineProperty(t.prototype,"maxOperationRetryTime",{get:function(){return this._delegate.maxOperationRetryTime},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxUploadRetryTime",{get:function(){return this._delegate.maxUploadRetryTime},enumerable:!1,configurable:!0}),t.prototype.ref=function(e){if(Se(e))throw q("ref() expected a child path but got a URL, use refFromURL instead.");return new W(rt(this._delegate,e),this)},t.prototype.refFromURL=function(e){if(!Se(e))throw q("refFromURL() expected a full URL but got a child path, use ref() instead.");try{T.makeFromUrl(e,this._delegate.host)}catch{throw q("refFromUrl() expected a valid full URL but got an invalid one.")}return new W(rt(this._delegate,e),this)},t.prototype.setMaxUploadRetryTime=function(e){this._delegate.maxUploadRetryTime=e},t.prototype.setMaxOperationRetryTime=function(e){this._delegate.maxOperationRetryTime=e},t.prototype.useEmulator=function(e,r,n){void 0===n&&(n={}),function Lr(t,e,r,n){void 0===n&&(n={}),function kr(t,e,r,n){void 0===n&&(n={}),t.host="http://"+e+":"+r;var o=n.mockUserToken;o&&(t._overrideAuthToken="string"==typeof o?o:(0,U.Sg)(o,t.app.options.projectId))}(t,e,r,n)}(this._delegate,e,r,n)},t}();function qr(t,e){var r=e.instanceIdentifier,n=t.getProvider("app").getImmediate(),o=t.getProvider("auth-internal"),a=t.getProvider("app-check-internal");return new Mr(n,new ae(n,o,a,new Lt,r,Ue.Z.SDK_VERSION))}function at(t){const e=function Hr(t){return new le.y(e=>{const r=i=>e.next(i);r(t.snapshot);const a=t.on("state_changed",r);return t.then(i=>{r(i),e.complete()},i=>{r(t.snapshot),(i=>{e.error(i)})(i)}),function(){a()}}).pipe((0,F.b)(0))}(t);return{task:t,then:t.then.bind(t),catch:t.catch.bind(t),pause:t.pause.bind(t),cancel:t.cancel.bind(t),resume:t.resume.bind(t),snapshotChanges:()=>e,percentageChanges:()=>e.pipe((0,ce.U)(r=>r.bytesTransferred/r.totalBytes*100))}}function se(t,e,r){return{getDownloadURL:()=>(0,D.of)(void 0).pipe((0,B.QV)(e.outsideAngular),(0,ke.w)(()=>t.getDownloadURL()),r),getMetadata:()=>(0,D.of)(void 0).pipe((0,B.QV)(e.outsideAngular),(0,ke.w)(()=>t.getMetadata()),r),delete:()=>(0,X.D)(t.delete()),child:n=>se(t.child(n),e,r),updateMetadata:n=>(0,X.D)(t.updateMetadata(n)),put:(n,o)=>at(t.put(n,o)),putString:(n,o,a)=>at(t.putString(n,o,a)),listAll:()=>(0,X.D)(t.listAll())}}!function Gr(t){var e={TaskState:y,TaskEvent:At,StringFormat:S,Storage:ae,Reference:W};t.INTERNAL.registerComponent(new ht.wA("storage",qr,"PUBLIC").setServiceProps(e).setMultipleInstances(!0)),t.registerVersion("@firebase/storage","0.7.1")}(Ue.Z),m(6895);const it=new h.OlP("angularfire2.storageBucket"),st=new h.OlP("angularfire2.storage.maxUploadRetryTime"),ut=new h.OlP("angularfire2.storage.maxOperationRetryTime");let Te=(()=>{class t{constructor(r,n,o,a,i,u,l){this.schedulers=new I.HU(i),this.keepUnstableUntilFirst=(0,I.ss)(this.schedulers);const s=(0,I.on)(r,i,n);this.storage=(0,I.sI)(`${s.name}.storage.${o}`,"AngularFireStorage",s,()=>{const c=i.runOutsideAngular(()=>s.storage(o||void 0));return u&&c.setMaxUploadRetryTime(u),l&&c.setMaxOperationRetryTime(l),c},[u,l])}ref(r){return se(this.storage.ref(r),this.schedulers,this.keepUnstableUntilFirst)}refFromURL(r){return se(this.storage.refFromURL(r),this.schedulers,this.keepUnstableUntilFirst)}upload(r,n,o){return se(this.storage.ref(r),this.schedulers,this.keepUnstableUntilFirst).put(n,o)}}return t.\u0275fac=function(r){return new(r||t)(h.LFG(I.Dh),h.LFG(I.xv,8),h.LFG(it,8),h.LFG(h.Lbi),h.LFG(h.R0b),h.LFG(st,8),h.LFG(ut,8))},t.\u0275prov=h.Yz7({factory:function(){return new t(h.LFG(I.Dh),h.LFG(I.xv,8),h.LFG(it,8),h.LFG(h.Lbi),h.LFG(h.R0b),h.LFG(st,8),h.LFG(ut,8))},token:t,providedIn:"any"}),t})()}}]);