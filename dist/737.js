"use strict";(self.webpackChunkng2angle=self.webpackChunkng2angle||[]).push([[737],{3737:(y,f,i)=>{i.r(f),i.d(f,{TagsModule:()=>L});var g=i(6895),u=i(5229),m=i(6691),d=i(1071),p=i(2734),e=i(4650),h=i(5870);function w(a,l){if(1&a){const t=e.EpF();e.TgZ(0,"div",17)(1,"button",18),e._UZ(2,"em",19),e.qZA(),e.TgZ(3,"button",20),e.NdJ("click",function(){const r=e.CHM(t).value,c=e.oxw();return e.KtG(c.deleteTagsData(r))}),e._UZ(4,"em",21),e.qZA()()}if(2&a){const t=l.value;e.xp6(1),e.MGl("routerLink","/tags/edit/",t,"")}}const T=i(1373);let _=(()=>{class a{constructor(t){this.tagsService=t,this.Tags=[],this.arrayRowData="",this.rowsFilter=[],this.arrayTableData=[]}ngOnInit(){this.Tags=[],this.tagsService.getTagsList().subscribe(t=>{this.Tags=[],this.Tags=t.map(n=>{let o=n.payload.doc.data();return{id:n.payload.doc.id,data:o}}),this.arrayTableData=[];for(let n=0;n<this.Tags.length;n++)this.arrayRowData=this.Tags[n].data,this.arrayRowData.sr_no=n+1,this.arrayRowData.id=this.Tags[n].id,this.arrayTableData.push(this.arrayRowData);this.rowsFilter=this.arrayTableData})}updateFilter(t){const n=t.target.value.toLowerCase(),o=this.arrayTableData.filter(function(r){if(""!=r.name&&null!=r.name)return-1!==r.name.toLowerCase().indexOf(n)||!n});this.rowsFilter=o,this.table.offset=0}deleteTagsData(t){this.sweetalertWarning(t)}sweetalertWarning(t){T({title:"Are you sure?",text:"Want to delete data!",icon:"warning",buttons:{cancel:{text:"Cancel",value:null,visible:!0,className:"",closeModal:!0},confirm:{text:"Yes, delete it!",value:!0,visible:!0,className:"bg-danger",closeModal:!1}}}).then(n=>{n&&this.tagsService.deleteTags(t).then(()=>{T("Deleted!","Data deletd!","success")})})}}return a.\u0275fac=function(t){return new(t||a)(e.Y36(h.i))},a.\u0275cmp=e.Xpm({type:a,selectors:[["app-tag-list"]],viewQuery:function(t,n){if(1&t&&e.Gf(d.nE,7),2&t){let o;e.iGM(o=e.CRH())&&(n.table=o.first)}},decls:20,vars:9,consts:[[1,"content-heading"],[1,"d-flex","justify-content-between","w-100","align-items-center"],["type","button",1,"btn","btn-primary","d-flex","align-items-center",3,"routerLink"],["_ngcontent-lgi-c20","",1,"icon-plus","mr-1"],[1,"card","card-default"],[1,"card-body"],[1,"row","mb-3"],[1,"col-lg-3"],["type","text","placeholder","Type to filter the name column...",1,"form-control",3,"keyup"],[1,"bootstrap","no-detail-row",3,"scrollbarH","columnMode","footerHeight","rowHeight","limit","rows"],["table",""],["name","Sr. No.","prop","sr_no",3,"width"],["name","Actions","sortable","false","prop","id"],["ngx-datatable-cell-template",""],["name","Unique Id","prop","id",3,"width"],["name","Name","prop","name"],["name","Active","prop","is_enabled"],[1,"d-flex"],["type","button",1,"mr-1","btn","btn-success","comn-action-btn","mb-1",3,"routerLink"],["_ngcontent-lgi-c20","",1,"fas","fa-edit"],["type","button",1,"mr-1","btn","btn-danger","comn-action-btn","mb-1",3,"click"],["_ngcontent-lgi-c20","",1,"fas","fa-trash-alt"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"span"),e._uU(3,"Tags"),e.qZA(),e.TgZ(4,"button",2),e._UZ(5,"em",3),e._uU(6," Add New "),e.qZA()()(),e.TgZ(7,"div",4)(8,"div",5)(9,"div",6)(10,"div",7)(11,"input",8),e.NdJ("keyup",function(r){return n.updateFilter(r)}),e.qZA()()(),e.TgZ(12,"ngx-datatable",9,10),e._UZ(14,"ngx-datatable-column",11),e.TgZ(15,"ngx-datatable-column",12),e.YNc(16,w,5,1,"ng-template",13),e.qZA(),e._UZ(17,"ngx-datatable-column",14)(18,"ngx-datatable-column",15)(19,"ngx-datatable-column",16),e.qZA()()()),2&t&&(e.xp6(4),e.Q6J("routerLink","/tags/add"),e.xp6(8),e.Q6J("scrollbarH",!0)("columnMode","force")("footerHeight",50)("rowHeight","auto")("limit",10)("rows",n.rowsFilter),e.xp6(2),e.Q6J("width",50),e.xp6(3),e.Q6J("width",180))},dependencies:[m.rH,d.nE,d.UC,d.vq]}),a})();var s=i(4719),v=i(5867),b=(i(2504),i(362));function Z(a,l){1&a&&(e.TgZ(0,"div",19),e._uU(1," Name is required"),e.qZA())}function C(a,l){1&a&&e._UZ(0,"span",20)}function x(a,l){if(1&a){const t=e.EpF();e.TgZ(0,"form",9,10),e.NdJ("ngSubmit",function(o){e.CHM(t);const r=e.MAs(1),c=e.oxw();return e.KtG(c.editTags(o,r.value))})("keydown.enter",function(o){return o.preventDefault()})("keydown.shift.enter",function(o){return o.preventDefault()}),e.TgZ(2,"div",11)(3,"div",12)(4,"label"),e._uU(5,"Tags"),e.qZA(),e.TgZ(6,"input",13),e.NdJ("ngModelChange",function(o){e.CHM(t);const r=e.oxw();return e.KtG(r.Tags.name=o)}),e.qZA(),e.YNc(7,Z,2,0,"div",14),e.qZA(),e.TgZ(8,"div",15)(9,"label"),e._uU(10,"Active"),e.qZA(),e.TgZ(11,"ui-switch",16),e.NdJ("ngModelChange",function(o){e.CHM(t);const r=e.oxw();return e.KtG(r.Tags.is_enabled=o)}),e.qZA()()(),e.TgZ(12,"button",17),e._uU(13,"Save"),e.YNc(14,C,1,0,"span",18),e.qZA()()}if(2&a){const t=e.oxw();e.Q6J("formGroup",t.valForm),e.xp6(6),e.Q6J("ngModel",t.Tags.name),e.xp6(1),e.Q6J("ngIf",t.valForm.controls.name.hasError("required")&&(t.valForm.controls.name.dirty||t.valForm.controls.name.touched)),e.xp6(4),e.Q6J("ngModel",t.Tags.is_enabled),e.xp6(3),e.Q6J("ngIf",t.saveLoading)}}let A=(()=>{class a{constructor(t,n,o,r,c){this.validationService=n,this.tagsService=o,this.router=r,this.route=c,this.saveLoading=!1,this.Tags=[],this.valForm=t.group({name:["",s.kI.required],isEnabled:[!0,s.kI.required]})}ngOnInit(){this.id=this.route.snapshot.params.id,this.tagsService.getTagsDetail(this.id).get().subscribe(t=>{t.exists&&(this.Tags=t.data())})}editTags(t,n){t.preventDefault();for(let o in this.valForm.controls)this.valForm.controls[o].markAsTouched();if(this.valForm.valid){let o={name:n.name,is_enabled:n.isEnabled,created_at:v.Z.firestore.FieldValue.serverTimestamp(),updated_at:v.Z.firestore.FieldValue.serverTimestamp()};this.tagsService.updateTags(this.id,o).then(()=>{this.saveLoading=!1,this.validationService.sweetalertSuccess(),this.router.navigate(["/tags"])}).catch(r=>{this.saveLoading=!1})}else console.log("this.valForm",this.valForm)}}return a.\u0275fac=function(t){return new(t||a)(e.Y36(s.QS),e.Y36(b.R),e.Y36(h.i),e.Y36(m.F0),e.Y36(m.gz))},a.\u0275cmp=e.Xpm({type:a,selectors:[["app-tag-edit"]],decls:12,vars:2,consts:[[1,"content-heading"],[1,"d-flex","justify-content-between","w-100","align-items-center"],["type","button",1,"btn","btn-primary","d-flex","align-items-center",3,"routerLink"],["_ngcontent-lgi-c20","",1,"icon-arrow-left","mr-1"],[1,"row"],[1,"col-md-12"],[1,"card","card-default"],[1,"card-body"],["class","form-validate","role","form",3,"formGroup","ngSubmit","keydown.enter","keydown.shift.enter",4,"ngIf"],["role","form",1,"form-validate",3,"formGroup","ngSubmit","keydown.enter","keydown.shift.enter"],["dataPost","ngForm"],[1,"form-row"],[1,"col-12","col-md-10"],["required","","formControlName","name","type","text","placeholder","Enter name",1,"form-control","with-focus",3,"ngModel","ngModelChange"],["class","text-danger",4,"ngIf"],[1,"col-12","col-md-2"],["formControlName","isEnabled",3,"ngModel","ngModelChange"],["type","submit",1,"btn","btn-sm","btn-info","mt-2"],["class","spinner-border spinner-border-sm ml-2",4,"ngIf"],[1,"text-danger"],[1,"spinner-border","spinner-border-sm","ml-2"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"span"),e._uU(3,"Edit Tags"),e.qZA(),e.TgZ(4,"button",2),e._UZ(5,"em",3),e._uU(6," Back "),e.qZA()()(),e.TgZ(7,"div",4)(8,"div",5)(9,"div",6)(10,"div",7),e.YNc(11,x,15,5,"form",8),e.qZA()()()()),2&t&&(e.xp6(4),e.Q6J("routerLink","/tags"),e.xp6(7),e.Q6J("ngIf",n.Tags))},dependencies:[g.O5,s._Y,s.Fj,s.JJ,s.JL,s.Q7,s.sg,s.u,m.rH,p.ob]}),a})();function F(a,l){1&a&&(e.TgZ(0,"div",18),e._uU(1," Name is required"),e.qZA())}function S(a,l){1&a&&e._UZ(0,"span",19)}const E=[{path:"",component:_},{path:"tags",component:_},{path:"add",component:(()=>{class a{constructor(t,n,o,r){this.validationService=n,this.tagsService=o,this.router=r,this.saveLoading=!1,this.valForm=t.group({name:["",s.kI.required],isEnabled:[!0,s.kI.required]})}ngOnInit(){}addTags(t,n){t.preventDefault();for(let o in this.valForm.controls)this.valForm.controls[o].markAsTouched();if(this.valForm.valid){let o={name:n.name,is_enabled:n.isEnabled,created_at:v.Z.firestore.FieldValue.serverTimestamp(),updated_at:v.Z.firestore.FieldValue.serverTimestamp()};this.tagsService.addTags(o).then(()=>{this.saveLoading=!1,this.validationService.sweetalertSuccess(),this.router.navigate(["/tags"])}).catch(r=>{this.saveLoading=!1})}else console.log("this.valForm",this.valForm)}}return a.\u0275fac=function(t){return new(t||a)(e.Y36(s.QS),e.Y36(b.R),e.Y36(h.i),e.Y36(m.F0))},a.\u0275cmp=e.Xpm({type:a,selectors:[["app-tag-add"]],decls:26,vars:4,consts:[[1,"content-heading"],[1,"d-flex","justify-content-between","w-100","align-items-center"],["type","button",1,"btn","btn-primary","d-flex","align-items-center",3,"routerLink"],["_ngcontent-lgi-c20","",1,"icon-arrow-left","mr-1"],[1,"row"],[1,"col-md-12"],[1,"card","card-default"],[1,"card-body"],["role","form",1,"form-validate",3,"formGroup","ngSubmit","keydown.enter","keydown.shift.enter"],["dataPost","ngForm"],[1,"form-row"],[1,"col-12","col-md-10"],["ngModel","","required","","formControlName","name","type","text","placeholder","Enter name",1,"form-control","with-focus"],["class","text-danger",4,"ngIf"],[1,"col-12","col-md-2"],["formControlName","isEnabled"],["type","submit",1,"btn","btn-sm","btn-info","mt-2"],["class","spinner-border spinner-border-sm ml-2",4,"ngIf"],[1,"text-danger"],[1,"spinner-border","spinner-border-sm","ml-2"]],template:function(t,n){if(1&t){const o=e.EpF();e.TgZ(0,"div",0)(1,"div",1)(2,"span"),e._uU(3,"Add Tags"),e.qZA(),e.TgZ(4,"button",2),e._UZ(5,"em",3),e._uU(6," Back "),e.qZA()()(),e.TgZ(7,"div",4)(8,"div",5)(9,"div",6)(10,"div",7)(11,"form",8,9),e.NdJ("ngSubmit",function(c){e.CHM(o);const M=e.MAs(12);return e.KtG(n.addTags(c,M.value))})("keydown.enter",function(c){return c.preventDefault()})("keydown.shift.enter",function(c){return c.preventDefault()}),e.TgZ(13,"div",10)(14,"div",11)(15,"label"),e._uU(16,"Tags"),e.qZA(),e._UZ(17,"input",12),e.YNc(18,F,2,0,"div",13),e.qZA(),e.TgZ(19,"div",14)(20,"label"),e._uU(21,"Active"),e.qZA(),e._UZ(22,"ui-switch",15),e.qZA()(),e.TgZ(23,"button",16),e._uU(24,"Save"),e.YNc(25,S,1,0,"span",17),e.qZA()()()()()()}2&t&&(e.xp6(4),e.Q6J("routerLink","/tags"),e.xp6(7),e.Q6J("formGroup",n.valForm),e.xp6(7),e.Q6J("ngIf",n.valForm.controls.name.hasError("required")&&(n.valForm.controls.name.dirty||n.valForm.controls.name.touched)),e.xp6(7),e.Q6J("ngIf",n.saveLoading))},dependencies:[g.O5,s._Y,s.Fj,s.JJ,s.JL,s.Q7,s.sg,s.u,m.rH,p.ob]}),a})()},{path:"edit/:id",component:A}];let L=(()=>{class a{}return a.\u0275fac=function(t){return new(t||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({imports:[u.m,d.xD,g.ez,p.Su,m.Bz.forChild(E),m.Bz]}),a})()},362:(y,f,i)=>{i.d(f,{R:()=>m});var g=i(4650);const u=i(1373);let m=(()=>{class d{constructor(){}sweetalertError(e){u(e,"","error")}sweetalertSuccess(){u("Data saved successfully!","","success")}sweetalertUpdateSuccess(){u("Data updated successfully!","","success")}sweetalertFileUploadSuccess(){u("file uploaded successfully!","","success")}}return d.\u0275fac=function(e){return new(e||d)},d.\u0275prov=g.Yz7({token:d,factory:d.\u0275fac,providedIn:"root"}),d})()}}]);