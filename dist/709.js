"use strict";(self.webpackChunkng2angle=self.webpackChunkng2angle||[]).push([[709],{2709:(y,v,l)=>{l.r(v),l.d(v,{FaqModule:()=>J});var g=l(6895),d=l(6691),b=l(5229),u=l(1071),e=l(4650),f=l(1418),x=l(7349);function T(n,i){1&n&&e._UZ(0,"div",20)}function Q(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",21)(1,"button",22),e._UZ(2,"em",23),e.qZA(),e.TgZ(3,"button",24),e.NdJ("click",function(){const a=e.CHM(t).value,c=e.oxw();return e.KtG(c.deleteFAQ(a))}),e._UZ(4,"em",25),e.qZA()()}if(2&n){const t=i.value;e.xp6(1),e.MGl("routerLink","/faq-manager/edit/",t,"")}}function M(n,i){1&n&&(e._UZ(0,"p",26),e.ALo(1,"trustHTML")),2&n&&e.Q6J("innerHTML",e.lcZ(1,1,i.value),e.oJD)}function U(n,i){1&n&&(e._UZ(0,"p",26),e.ALo(1,"trustHTML")),2&n&&e.Q6J("innerHTML",e.lcZ(1,1,i.value),e.oJD)}const q=l(1373);let C=(()=>{class n{constructor(t){this.faqService=t,this.filteredData=[],this.deleteFAQ=o=>{this.sweetalertWarning(o)}}ngOnInit(){this.faqService.getFaqList().subscribe(t=>{this.FAQList=t.map(r=>{let a=r.payload.doc.data();return{id:r.payload.doc.id,...a}});let o=[];for(let r=0;r<this.FAQList.length;r++){let a={};a=this.FAQList[r],a.sr_no=r+1,a.id=this.FAQList[r].id,o.push(a)}this.filteredData=o})}updateFilter(t){const o=t.target.value.toLowerCase(),r=this.FAQList.filter(function(a){if(""!=a.question&&null!=a.question)return-1!==a.question.toLowerCase().indexOf(o)||-1!==a.answer.toLowerCase().indexOf(o)||!o});this.filteredData=r,this.table.offset=0}sweetalertWarning(t){q({title:"Are you sure?",text:"Want to delete FAQ!",icon:"warning",buttons:{cancel:{text:"Cancel",value:null,visible:!0,className:"",closeModal:!1},confirm:{text:"Yes, delete it!",value:!0,visible:!0,className:"bg-danger",closeModal:!1}}}).then(o=>{o?(this.faqService.deleteFAQ(t),q("Deleted!","FAQ Deleted Successfully!","success")):q("Cancelled","Data is safe :)","error")})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(f.P))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-faq-list"]],viewQuery:function(t,o){if(1&t&&e.Gf(u.nE,7),2&t){let r;e.iGM(r=e.CRH())&&(o.table=r.first)}},decls:25,vars:13,consts:[[1,"content-heading"],[1,"d-flex","justify-content-between","w-100","align-items-center"],["type","button",1,"btn","btn-primary","d-flex","align-items-center",3,"routerLink"],["_ngcontent-lgi-c20","",1,"icon-plus","mr-1"],[1,"card","card-default"],["class","spinner-border loading","role","status",4,"ngIf"],[1,"card-body"],[1,"row","mb-4"],[1,"col-lg-4"],["type","text","placeholder","Type to filter question...",1,"form-control",3,"keyup"],[1,"bootstrap","no-detail-row",3,"scrollbarH","columnMode","footerHeight","rowHeight","limit","rows"],["table",""],["name","Sr. No.","prop","sr_no",3,"maxWidth"],["name","Actions","sortable","false","prop","id",3,"canAutoResize"],["ngx-datatable-cell-template",""],["name","Unique Id","prop","id",3,"width"],["name","Question","prop","question",3,"canAutoResize"],["name","Answer","prop","answer"],["name","Question (ARABIC)","prop","question_arabic",3,"canAutoResize"],["name","Answer (ARABIC)","prop","answer_arabic"],["role","status",1,"spinner-border","loading"],[1,"d-flex","align-items-center"],["type","button",1,"mr-1","btn","btn-success","comn-action-btn","mb-1",3,"routerLink"],["_ngcontent-lgi-c20","",1,"fas","fa-edit"],["type","button",1,"mr-1","btn","btn-danger","comn-action-btn","mb-1",3,"click"],["_ngcontent-lgi-c20","",1,"fas","fa-trash-alt"],[3,"innerHTML"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"span"),e._uU(3,"FAQ"),e.qZA(),e.TgZ(4,"button",2),e._UZ(5,"em",3),e._uU(6," Add New "),e.qZA()()(),e.TgZ(7,"div",4),e.YNc(8,T,1,0,"div",5),e.TgZ(9,"div",6)(10,"div",7)(11,"div",8)(12,"input",9),e.NdJ("keyup",function(a){return o.updateFilter(a)}),e.qZA()()(),e.TgZ(13,"ngx-datatable",10,11),e._UZ(15,"ngx-datatable-column",12),e.TgZ(16,"ngx-datatable-column",13),e.YNc(17,Q,5,1,"ng-template",14),e.qZA(),e._UZ(18,"ngx-datatable-column",15)(19,"ngx-datatable-column",16),e.TgZ(20,"ngx-datatable-column",17),e.YNc(21,M,2,3,"ng-template",14),e.qZA(),e._UZ(22,"ngx-datatable-column",18),e.TgZ(23,"ngx-datatable-column",19),e.YNc(24,U,2,3,"ng-template",14),e.qZA()()()()),2&t&&(e.xp6(4),e.Q6J("routerLink","/faq-manager/add"),e.xp6(4),e.Q6J("ngIf",null==o.FAQList||""==o.FAQList),e.xp6(5),e.Q6J("scrollbarH",!0)("columnMode","force")("footerHeight",50)("rowHeight","auto")("limit",10)("rows",o.filteredData),e.xp6(2),e.Q6J("maxWidth",50),e.xp6(1),e.Q6J("canAutoResize",!1),e.xp6(2),e.Q6J("width",180),e.xp6(1),e.Q6J("canAutoResize",!1),e.xp6(3),e.Q6J("canAutoResize",!1))},dependencies:[g.O5,d.rH,u.nE,u.UC,u.vq,x.f],styles:['@import"https://fonts.googleapis.com/css?family=Hind:300,400";*[_ngcontent-%COMP%], *[_ngcontent-%COMP%]:before, *[_ngcontent-%COMP%]:after{box-sizing:inherit}html[_ngcontent-%COMP%]{box-sizing:border-box}body[_ngcontent-%COMP%]{margin:0;padding:0;font-family:Hind,sans-serif;background:#fff;color:#4d5974;display:flex;min-height:100vh}.container[_ngcontent-%COMP%]{margin:0 auto;padding:4rem;width:48rem}h3[_ngcontent-%COMP%]{font-size:1.75rem;color:#373d51;padding:1.3rem;margin:0}.accordion[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{position:relative;display:flex;flex-direction:column;width:100%;padding:1rem 3rem 1rem 1rem;color:#7288a2;font-size:1.15rem;font-weight:400;border-bottom:1px solid #e5e5e5}.accordion[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover, .accordion[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover:after{cursor:pointer;color:#ff5353}.accordion[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover:after{border:1px solid #ff5353}.accordion[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]{color:#ff5353;border-bottom:1px solid #ff5353}.accordion[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:after{font-family:Ionicons;content:"\\f218";position:absolute;float:right;right:1rem;font-size:1rem;color:#7288a2;padding:3px;width:30px;height:30px;border-radius:50%;border:1px solid #7288a2;text-align:center}.accordion[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]:after{font-family:Ionicons;content:"\\f209";color:#ff5353;border:1px solid #ff5353}.accordion[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{opacity:0;padding:0 1rem;max-height:0;border-bottom:1px solid #e5e5e5;overflow:hidden;clear:both;transition:all .2s ease .15s}.accordion[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem;font-weight:300}.accordion[_ngcontent-%COMP%]   .content.active[_ngcontent-%COMP%]{opacity:1;padding:1rem;max-height:100%;transition:all .35s ease .15s}']}),n})();var s=l(4719),F=l(5867),Z=(l(2504),l(8064)),w=l(362);function L(n,i){1&n&&e._UZ(0,"div",23)}function k(n,i){1&n&&(e.TgZ(0,"div",24),e._uU(1," Question is required"),e.qZA())}function E(n,i){1&n&&(e.TgZ(0,"div",24),e._uU(1," Answer is required"),e.qZA())}function O(n,i){1&n&&e._UZ(0,"div",23)}function S(n,i){1&n&&(e.TgZ(0,"div",24),e._uU(1," Question is required"),e.qZA())}function D(n,i){1&n&&(e.TgZ(0,"div",24),e._uU(1," Answer is required"),e.qZA())}const P=[{path:"",component:C},{path:"list",component:C},{path:"add",component:(()=>{class n{constructor(t,o,r,a,c){this.afs=o,this.router=r,this.faqService=a,this.validationService=c,this.loading=!1,this.saveFAQData=(p,m)=>{p.preventDefault();for(let h in this.valForm.controls)this.valForm.controls[h].markAsTouched();const _={...m,created_at:F.Z.firestore.FieldValue.serverTimestamp(),updated_at:F.Z.firestore.FieldValue.serverTimestamp()};this.valForm.valid&&this.faqService.addFAQ(_).then(()=>{this.loading=!1,this.validationService.sweetalertSuccess(),this.router.navigate(["/faq-manager"])}).catch(h=>{console.log(h),this.loading=!1})},this.valForm=t.group({question:["",s.kI.required],question_arabic:"",answer:["",s.kI.required],answer_arabic:""})}ngOnInit(){console.log($("#summernote")),$("#summernote").summernote({height:280,disableDragAndDrop:!0,shortcuts:!1,placeholder:"Enter your answer here...",toolbar:[["style",["bold","italic","underline","clear"]],["fontname",["fontname"]],["fontsize",["fontsize"]],["color",["color"]],["font",["strikethrough","superscript","subscript"]],["para",["ul","ol","paragraph"]],["height",["height"]],["insert",["link","hr"]],["view",["fullscreen"]]],dialogsInBody:!0,callbacks:{onChange:(t,o)=>{this.contents=t,this.valForm.patchValue({answer:t})}}}),$("#summernote_arabic").summernote({height:280,disableDragAndDrop:!0,shortcuts:!1,placeholder:"Enter your answer here...",toolbar:[["style",["bold","italic","underline","clear"]],["fontname",["fontname"]],["fontsize",["fontsize"]],["color",["color"]],["font",["strikethrough","superscript","subscript"]],["para",["ul","ol","paragraph"]],["height",["height"]],["insert",["link","hr"]],["view",["fullscreen"]]],dialogsInBody:!0,callbacks:{onChange:(t,o)=>{this.contents=t,this.valForm.patchValue({answer:t})}}}),$(".note-popover").css({display:"none"})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(s.QS),e.Y36(Z.ST),e.Y36(d.F0),e.Y36(f.P),e.Y36(w.R))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-faq-create"]],decls:44,vars:5,consts:[[1,"content-heading"],[1,"d-flex","justify-content-between","w-100","align-items-center"],["type","button",1,"btn","btn-primary","d-flex","align-items-center",3,"routerLink"],["_ngcontent-lgi-c20","",1,"fa","fa-angle-left","mr-1"],[1,"container-fluid"],[1,"row"],["class","spinner-border loading","role","status",4,"ngIf"],[1,"col-xl-12"],[1,"card","card-default"],[1,"card-body"],["role","form",1,"form-validate",3,"formGroup","ngSubmit","keydown.enter","keydown.shift.enter"],["dataPost","ngForm"],[1,"form-row","form-group"],[1,"col-12","col-md-6"],["required","","formControlName","question","ngModel","","name","question","type","text","placeholder","Enter Question",1,"form-control","with-focus"],["class","text-danger",4,"ngIf"],["formControlName","question_arabic","ngModel","","name","question_arabic","type","text","placeholder","Enter Question",1,"form-control","with-focus"],["id","summernote",1,"summernote"],["id","summernote_arabic",1,"summernote"],[1,"clearfix"],[1,"float-right"],["type","submit",1,"btn","btn-primary"],[1,"fa","fa-check","fa-fw"],["role","status",1,"spinner-border","loading"],[1,"text-danger"]],template:function(t,o){if(1&t){const r=e.EpF();e.TgZ(0,"div",0)(1,"div",1)(2,"span"),e._uU(3,"New FAQ"),e.qZA(),e.TgZ(4,"button",2),e._UZ(5,"em",3),e._uU(6," Back "),e.qZA()()(),e.TgZ(7,"div",4)(8,"div",5),e.YNc(9,L,1,0,"div",6),e.TgZ(10,"div",7)(11,"div",8)(12,"div",9)(13,"form",10,11),e.NdJ("ngSubmit",function(c){e.CHM(r);const p=e.MAs(14);return e.KtG(o.saveFAQData(c,p.value))})("keydown.enter",function(c){return c.preventDefault()})("keydown.shift.enter",function(c){return c.preventDefault()}),e.TgZ(15,"div",12)(16,"div",13)(17,"label"),e._uU(18,"Question (ENGLISH)"),e.qZA(),e._UZ(19,"input",14),e.YNc(20,k,2,0,"div",15),e.qZA(),e.TgZ(21,"div",13)(22,"label"),e._uU(23,"Question (ARABIC)"),e.qZA(),e._UZ(24,"input",16),e.qZA()(),e.TgZ(25,"div",12)(26,"div",13)(27,"label"),e._uU(28,"Answer"),e.qZA(),e.TgZ(29,"div",17)(30,"p"),e._uU(31,"\xa0"),e.qZA()(),e.YNc(32,E,2,0,"div",15),e.qZA(),e.TgZ(33,"div",13)(34,"label"),e._uU(35,"Answer (ARABIC)"),e.qZA(),e.TgZ(36,"div",18)(37,"p"),e._uU(38,"\xa0"),e.qZA()()()(),e.TgZ(39,"div",19)(40,"div",20)(41,"button",21),e._uU(42,"Save "),e._UZ(43,"em",22),e.qZA()()()()()()()()()}2&t&&(e.xp6(4),e.Q6J("routerLink","/faq-manager/list"),e.xp6(5),e.Q6J("ngIf",o.loading),e.xp6(4),e.Q6J("formGroup",o.valForm),e.xp6(7),e.Q6J("ngIf",o.valForm.controls.question.hasError("required")&&(o.valForm.controls.question.dirty||o.valForm.controls.question.touched)),e.xp6(12),e.Q6J("ngIf",o.valForm.controls.answer.hasError("required")&&(o.valForm.controls.answer.dirty||o.valForm.controls.answer.touched)))},dependencies:[g.O5,s._Y,s.Fj,s.JJ,s.JL,s.Q7,s.sg,s.u,d.rH]}),n})()},{path:"edit/:id",component:(()=>{class n{constructor(t,o,r,a,c,p){this.afs=o,this.router=r,this.faqService=a,this.validationService=c,this.route=p,this.loading=!1,this.initializeEditor=()=>{$("#summernote").summernote({height:280,disableDragAndDrop:!0,shortcuts:!1,placeholder:"Your answer here...",code:this.contents,toolbar:[["style",["bold","italic","underline","clear"]],["fontname",["fontname"]],["fontsize",["fontsize"]],["color",["color"]],["font",["strikethrough","superscript","subscript"]],["para",["ul","ol","paragraph"]],["height",["height"]],["insert",["link","hr"]],["view",["fullscreen"]]],dialogsInBody:!0,callbacks:{onChange:m=>{this.contents=m,this.valForm.patchValue({answer:m})}}}),$("#summernote_arabic").summernote({height:280,disableDragAndDrop:!0,shortcuts:!1,placeholder:"Enter your answer here...",toolbar:[["style",["bold","italic","underline","clear"]],["fontname",["fontname"]],["fontsize",["fontsize"]],["color",["color"]],["font",["strikethrough","superscript","subscript"]],["para",["ul","ol","paragraph"]],["height",["height"]],["insert",["link","hr"]],["view",["fullscreen"]]],dialogsInBody:!0,callbacks:{onChange:(m,_)=>{this.contents=m,this.valForm.patchValue({answer:m})}}}),$(".note-popover").css({display:"none"})},this.updateFAQData=(m,_)=>{m.preventDefault();for(let A in this.valForm.controls)this.valForm.controls[A].markAsTouched();const h={..._,updated_at:F.Z.firestore.FieldValue.serverTimestamp()},z=$("#summernote").summernote("code");(new DOMParser).parseFromString(z,"text/html").documentElement.textContent||this.valForm.controls.answer.setErrors({required:!0}),this.valForm.valid&&this.faqService.updateFAQ(this.id,h).then(()=>{this.loading=!1,this.validationService.sweetalertSuccess(),this.router.navigate(["/faq-manager"])}).catch(A=>{console.log(A),this.loading=!1})},this.valForm=t.group({question:["",s.kI.required],question_arabic:["",s.kI.required],answer:["",s.kI.required],answer_arabic:["",s.kI.required]})}ngOnInit(){this.initializeEditor(),this.id=this.route.snapshot.params.id,this.faqService.getFaqDetail(this.id).get().subscribe(t=>{if(t.exists){this.editedFAQ=t.data();const{answer:o,question:r}=this.editedFAQ;this.contents=o,$("#summernote").summernote("code",this.contents),this.valForm.patchValue({answer:o,question:r})}else console.log("No such document!")},t=>{console.log("error",t)})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(s.QS),e.Y36(Z.ST),e.Y36(d.F0),e.Y36(f.P),e.Y36(w.R),e.Y36(d.gz))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-faq-edit"]],decls:44,vars:5,consts:[[1,"content-heading"],[1,"d-flex","justify-content-between","w-100","align-items-center"],["type","button",1,"btn","btn-primary","d-flex","align-items-center",3,"routerLink"],["_ngcontent-lgi-c20","",1,"fa","fa-angle-left","mr-1"],[1,"container-fluid"],[1,"row"],["class","spinner-border loading","role","status",4,"ngIf"],[1,"col-xl-12"],[1,"card","card-default"],[1,"card-body"],["role","form",1,"form-validate",3,"formGroup","ngSubmit","keydown.enter","keydown.shift.enter"],["dataPost","ngForm"],[1,"form-row","form-group"],[1,"col-12","col-md-6"],["required","","formControlName","question","ngModel","","name","question","type","text","placeholder","Enter Question",1,"form-control","with-focus"],["class","text-danger",4,"ngIf"],["formControlName","question_arabic","ngModel","","name","question_arabic","type","text","placeholder","Enter Question",1,"form-control","with-focus"],["id","summernote",1,"summernote"],["id","summernote_arabic",1,"summernote"],[1,"clearfix"],[1,"float-right"],["type","submit",1,"btn","btn-primary"],[1,"fa","fa-check","fa-fw"],["role","status",1,"spinner-border","loading"],[1,"text-danger"]],template:function(t,o){if(1&t){const r=e.EpF();e.TgZ(0,"div",0)(1,"div",1)(2,"span"),e._uU(3,"Edit FAQ"),e.qZA(),e.TgZ(4,"button",2),e._UZ(5,"em",3),e._uU(6," Back "),e.qZA()()(),e.TgZ(7,"div",4)(8,"div",5),e.YNc(9,O,1,0,"div",6),e.TgZ(10,"div",7)(11,"div",8)(12,"div",9)(13,"form",10,11),e.NdJ("ngSubmit",function(c){e.CHM(r);const p=e.MAs(14);return e.KtG(o.updateFAQData(c,p.value))})("keydown.enter",function(c){return c.preventDefault()})("keydown.shift.enter",function(c){return c.preventDefault()}),e.TgZ(15,"div",12)(16,"div",13)(17,"label"),e._uU(18,"Question (ENGLISH)"),e.qZA(),e._UZ(19,"input",14),e.YNc(20,S,2,0,"div",15),e.qZA(),e.TgZ(21,"div",13)(22,"label"),e._uU(23,"Question (ARABIC)"),e.qZA(),e._UZ(24,"input",16),e.qZA()(),e.TgZ(25,"div",12)(26,"div",13)(27,"label"),e._uU(28,"Answer (ENGLISH)"),e.qZA(),e.TgZ(29,"div",17)(30,"p"),e._uU(31,"\xa0"),e.qZA()(),e.YNc(32,D,2,0,"div",15),e.qZA(),e.TgZ(33,"div",13)(34,"label"),e._uU(35,"Answer (ARABIC)"),e.qZA(),e.TgZ(36,"div",18)(37,"p"),e._uU(38,"\xa0"),e.qZA()()()(),e.TgZ(39,"div",19)(40,"div",20)(41,"button",21),e._uU(42,"Save "),e._UZ(43,"em",22),e.qZA()()()()()()()()()}2&t&&(e.xp6(4),e.Q6J("routerLink","/faq-manager/list"),e.xp6(5),e.Q6J("ngIf",o.loading),e.xp6(4),e.Q6J("formGroup",o.valForm),e.xp6(7),e.Q6J("ngIf",o.valForm.controls.question.hasError("required")&&(o.valForm.controls.question.dirty||o.valForm.controls.question.touched)),e.xp6(12),e.Q6J("ngIf",o.valForm.controls.answer.hasError("required")&&(o.valForm.controls.answer.dirty||o.valForm.controls.answer.touched)))},dependencies:[g.O5,s._Y,s.Fj,s.JJ,s.JL,s.Q7,s.sg,s.u,d.rH]}),n})()}];let J=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[b.m,u.xD,g.ez,d.Bz.forChild(P),d.Bz]}),n})()},362:(y,v,l)=>{l.d(v,{R:()=>b});var g=l(4650);const d=l(1373);let b=(()=>{class u{constructor(){}sweetalertError(f){d(f,"","error")}sweetalertSuccess(){d("Data saved successfully!","","success")}sweetalertUpdateSuccess(){d("Data updated successfully!","","success")}sweetalertFileUploadSuccess(){d("file uploaded successfully!","","success")}}return u.\u0275fac=function(f){return new(f||u)},u.\u0275prov=g.Yz7({token:u,factory:u.\u0275fac,providedIn:"root"}),u})()}}]);