"use strict";(self.webpackChunkng2angle=self.webpackChunkng2angle||[]).push([[848],{8848:(L,u,n)=>{n.r(u),n.d(u,{MyOrdersModule:()=>I});var c=n(6895),d=n(1071),e=n(4650),f=n(2668),h=n(8064),m=n(6691);function v(a,l){1&a&&e._UZ(0,"div",12)}function y(a,l){if(1&a){const t=e.EpF();e.TgZ(0,"div",13)(1,"button",14),e.NdJ("click",function(){const r=e.CHM(t),s=r.value,_=r.row,x=e.oxw();return e.KtG(x.myOrderDetails(s,_))}),e._UZ(2,"em",15),e.qZA()()}}const g=n(1373);let p=(()=>{class a{constructor(t,i,r){this.citiesService=t,this.afs=i,this.router=r,this.Cities=[],this.arrayRowData="",this.rowsFilter=[],this.arrayTableData=[]}ngOnInit(){console.log(sessionStorage.getItem("uid"));var t=sessionStorage.getItem("uid");console.log("vId.."+t),null!=t&&this.citiesService.getMyOrdersList().subscribe(i=>{this.Cities=[],this.Cities=i.map(r=>{let s=r.payload.doc.data();return{id:r.payload.doc.id,data:s}}),this.arrayTableData=[];for(let r=0;r<this.Cities.length;r++)this.arrayRowData=this.Cities[r].data,this.arrayRowData.sr_no=r+1,this.arrayRowData.id=this.Cities[r].id,this.arrayTableData.push(this.arrayRowData);this.rowsFilter=this.arrayTableData,console.log("ordersLength.."+this.Cities.length)})}updateFilter(t){const i=t.target.value.toLowerCase(),r=this.arrayTableData.filter(function(s){if(""!=s.original_loc&&null!=s.original_loc)return-1!==s.original_loc.toLowerCase().indexOf(i)||!i});this.rowsFilter=r,this.table.offset=0}deleteCitiesData(t){this.sweetalertWarning(t)}myOrderDetails(t,i){this.router.navigate(["/myOrders/add"])}sweetalertWarning(t){g({title:"Are you sure?",text:"Want to delete data!",icon:"warning",buttons:{cancel:{text:"Cancel",value:null,visible:!0,className:"",closeModal:!0},confirm:{text:"Yes, delete it!",value:!0,visible:!0,className:"bg-danger",closeModal:!1}}}).then(i=>{i&&this.citiesService.deleteCities(t).then(()=>{g("Deleted!","Data deletd!","success")})})}}return a.\u0275fac=function(t){return new(t||a)(e.Y36(f.e),e.Y36(h.ST),e.Y36(m.F0))},a.\u0275cmp=e.Xpm({type:a,selectors:[["app-my-orders-listing"]],viewQuery:function(t,i){if(1&t&&e.Gf(d.nE,7),2&t){let r;e.iGM(r=e.CRH())&&(i.table=r.first)}},decls:12,vars:9,consts:[[1,"card","card-default"],["class","spinner-border loading","role","status",4,"ngIf"],[1,"card-body"],[1,"row","mb-3"],[1,"col-lg-3"],["type","text","placeholder","Type to filter the name column...",1,"form-control",3,"keyup"],[1,"bootstrap","no-detail-row",3,"scrollbarH","columnMode","footerHeight","rowHeight","limit","rows"],["table",""],["name","Sr. No.","prop","sr_no",3,"width"],["name","Actions","sortable","false","prop","id"],["ngx-datatable-cell-template",""],["name","Unique Id","prop","id",3,"width"],["role","status",1,"spinner-border","loading"],[1,"d-flex"],["type","button",1,"mr-1","btn","btn-success","comn-action-btn","mb-1",3,"click"],["_ngcontent-lgi-c20","",1,"fas","fa-edit"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0),e.YNc(1,v,1,0,"div",1),e.TgZ(2,"div",2)(3,"div",3)(4,"div",4)(5,"input",5),e.NdJ("keyup",function(s){return i.updateFilter(s)}),e.qZA()()(),e.TgZ(6,"ngx-datatable",6,7),e._UZ(8,"ngx-datatable-column",8),e.TgZ(9,"ngx-datatable-column",9),e.YNc(10,y,3,0,"ng-template",10),e.qZA(),e._UZ(11,"ngx-datatable-column",11),e.qZA()()()),2&t&&(e.xp6(1),e.Q6J("ngIf",null==i.Cities),e.xp6(5),e.Q6J("scrollbarH",!0)("columnMode","force")("footerHeight",50)("rowHeight","auto")("limit",10)("rows",i.rowsFilter),e.xp6(2),e.Q6J("width",50),e.xp6(3),e.Q6J("width",180))},dependencies:[c.O5,d.nE,d.UC,d.vq]}),a})();var o=n(4719),D=n(4632);function C(a,l){1&a&&(e.TgZ(0,"div",13),e._UZ(1,"span",14),e.qZA())}function b(a,l){1&a&&e._UZ(0,"div",15)}function M(a,l){1&a&&(e.TgZ(0,"div",16),e._uU(1," Title is required"),e.qZA())}let T=(()=>{class a{constructor(t,i){this.productsService=t,this.loading=!1,this.fullPageLoader=!1,this.productDetailData=[],this.valForm=i.group({name:["",o.kI.required],name_arabic:"",cat_id:["",o.kI.required],tag_id:["",o.kI.required],inSection_id:"",vendor_id:["",o.kI.required],price:["",o.kI.required],image:"",description:[""],description_arabic:"",isEnabled:[!0,o.kI.required],isQuantity:[!1,o.kI.required],max_quantity:""})}ngOnInit(){this.productsService.getProductDetail(this.id).get().subscribe(t=>{t.exists?(this.productDetailData=t.data(),this.productDetailData.image&&(this.fileName=this.productDetailData.image,this.fileUrl=this.productDetailData.image,this.selectedFile=this.fileUrl),this.productDetailData.smallImage&&(this.smallFileUrl=this.productDetailData.smallImage),this.productDetailData.previewImage&&(this.fileThumbnailUrl=this.productDetailData.previewImage),this.fullPageLoader=!1):this.fullPageLoader=!1})}}return a.\u0275fac=function(t){return new(t||a)(e.Y36(D.s),e.Y36(o.QS))},a.\u0275cmp=e.Xpm({type:a,selectors:[["app-my-order-details"]],decls:20,vars:5,consts:[["class","fullLoaderBg",4,"ngIf"],[1,"content-heading"],[1,"row"],[1,"col-md-12"],["class","spinner-border loading","role","status",4,"ngIf"],[1,"card","card-default"],[1,"card-body"],[1,"form-row"],[1,"col-6"],[1,"mb-3"],["autocomplete","off","required","","formControlName","name","name","name","type","text","placeholder","Enter Product Title",1,"form-control","with-focus",3,"ngModel","ngModelChange"],["class","text-danger",4,"ngIf"],["autocomplete","off","formControlName","name_arabic","name","name_arabic","type","text","placeholder","Enter Product Title",1,"form-control","with-focus",3,"ngModel","ngModelChange"],[1,"fullLoaderBg"],[1,"spinner-border","spinner-border-lg","fullLoader"],["role","status",1,"spinner-border","loading"],[1,"text-danger"]],template:function(t,i){1&t&&(e.YNc(0,C,2,0,"div",0),e._UZ(1,"div",1),e.TgZ(2,"div",2)(3,"div",3),e.YNc(4,b,1,0,"div",4),e.TgZ(5,"div",5)(6,"div",6)(7,"form")(8,"div",7)(9,"div",8)(10,"div",9)(11,"label"),e._uU(12,"Product Title (ENGLISH)"),e.qZA(),e.TgZ(13,"input",10),e.NdJ("ngModelChange",function(s){return i.productDetailData.name=s}),e.qZA(),e.YNc(14,M,2,0,"div",11),e.qZA(),e.TgZ(15,"div",9)(16,"label"),e._uU(17,"Product Title (ARABIC)"),e.qZA(),e.TgZ(18,"input",12),e.NdJ("ngModelChange",function(s){return i.productDetailData.name_arabic=s}),e.qZA()()(),e._UZ(19,"div",8),e.qZA()()()()()()),2&t&&(e.Q6J("ngIf",i.fullPageLoader),e.xp6(4),e.Q6J("ngIf",i.loading),e.xp6(9),e.Q6J("ngModel",i.productDetailData.name),e.xp6(1),e.Q6J("ngIf",i.valForm.controls.name.hasError("required")&&(i.valForm.controls.name.dirty||i.valForm.controls.name.touched)),e.xp6(4),e.Q6J("ngModel",i.productDetailData.name_arabic))},dependencies:[c.O5,o._Y,o.Fj,o.JJ,o.JL,o.Q7,o.F,o.u]}),a})();var Z=n(2734),O=n(5229);const w=[{path:"",component:p},{path:"list",component:p},{path:"add",component:T}];let I=(()=>{class a{}return a.\u0275fac=function(t){return new(t||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({imports:[c.ez,O.m,Z.Su,d.xD,m.Bz.forChild(w)]}),a})()}}]);