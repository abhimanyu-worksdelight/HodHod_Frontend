<!-- START card-->
<div class="content-heading">
    <div class="d-flex justify-content-between w-100 align-items-center">
        <span>Products</span>
        <button class="btn btn-primary d-flex align-items-center" [routerLink]="'/products/add'" type="button">
            <em _ngcontent-lgi-c20="" class="icon-plus mr-1"></em> Add New
        </button>
        <!-- <button *ngIf="loginType == 'u7GeGmO2luLmkOMKeZ0k' " class="btn btn-primary d-flex align-items-center" [routerLink]="'/products/add'" type="button">
            <em _ngcontent-lgi-c20="" class="icon-plus mr-1"></em> Add New
        </button> -->
    </div>
</div>
<div class="card card-default">
    <!-- loader till the data from the loads -->
    <div class="spinner-border loading" role="status" *ngIf="isLoading"></div>

    <div class="card-body">
        <!-- START datatable -->
        <div class="row mb-3">
            <div class="col-lg-3">
                <input type='text' class="form-control" placeholder='Type to filter the store column...'
                    (keyup)='updateFilter($event)' />
            </div>
            <div class="col-lg-9 d-flex justify-content-end align-items-center"
                *ngIf="loginType == 'WxAsS1whStfbgdXvxqHs'">
                <div class="file-input">
                    <input type="file" name="file-input" id="file-input" accept=".csv"
                        (change)="handleFileSelect($event)" class="csvFileInput" />
                    <label class="fileInputLabel bg-warning mb-0" for="file-input"><span>Upload CSV file to
                            database</span></label>
                </div>
            </div>
        </div>
        <ngx-datatable #table class='bootstrap no-detail-row' [scrollbarH]="true" [columnMode]="'force'"
            [footerHeight]="50" [rowHeight]="'auto'" [limit]="10" [rows]='rowsFilter'>
            <ngx-datatable-column [width]="50" name="Sr. No." prop="sr_no"></ngx-datatable-column>
            <ngx-datatable-column name="Actions" sortable="false" prop="id">
                <ng-template ngx-datatable-cell-template let-value="value" let-row="row">
                    <div class="d-flex">
                        <!-- <button *ngIf="loginType == 'u7GeGmO2luLmkOMKeZ0k'" class="mr-1 btn btn-success comn-action-btn mb-1" routerLink="/products/edit/{{value}}" type="button">
                            <em _ngcontent-lgi-c20="" class="fas fa-edit"></em>
                        </button> -->
                        <button class="mr-1 btn btn-success comn-action-btn mb-1" routerLink="/products/edit/{{value}}"
                            type="button">
                            <em _ngcontent-lgi-c20="" class="fas fa-edit"></em>
                        </button>
                        <button class="mr-1 btn btn-danger comn-action-btn mb-1" (click)="deleteProductData(value, row)"
                            type="button">
                            <em _ngcontent-lgi-c20="" class="fas fa-trash-alt"></em>
                        </button>
                    </div>
                </ng-template>
            </ngx-datatable-column>
            <ngx-datatable-column [width]="180" name="Unique Id" prop="id"></ngx-datatable-column>
            <ngx-datatable-column name="Image" sortable="false" prop="image">
                <ng-template ngx-datatable-cell-template let-value="value" let-row="row">
                    <img src="{{value}}" class='listImage' *ngIf="value" />
                    <img src="assets/img/preview-img.png" class='listImage' *ngIf="!value" />
                </ng-template>
            </ngx-datatable-column>
            <ngx-datatable-column name="Name" prop="name"></ngx-datatable-column>
            <!-- <ngx-datatable-column name="Store" prop="store_id"></ngx-datatable-column> -->
            <ngx-datatable-column name="Active" prop="is_enabled">
                <ng-template ngx-datatable-cell-template let-value="value" let-row="row">
                    <span>{{value == true ? 'Yes': 'No'}}</span>
                </ng-template>
            </ngx-datatable-column>


        </ngx-datatable>
        <!-- END datatable -->
    </div>
</div>
<!-- START card-->